{"ast":null,"code":"import { onMounted, ref } from \"vue\";\nimport axios from \"axios\";\n//定义客户列表集合数据\n\nexport default {\n  __name: 'ListCustomer',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const custList = ref([]);\n    //定义客户列表总记录数\n    const total = ref();\n    //定义函数发送ajax请求加载列表数据\n    function custListQeury(pageNum) {\n      axios.get(\"http://localhost:8081/listCust?pageNum=\" + pageNum).then(response => {\n        custList.value = response.data.custList;\n        total.value = response.data.total;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    //页面挂在加载客户列表数据\n    onMounted(function () {\n      custListQeury(1);\n    });\n    /*处理上一页，下一页按钮回调,value绑定需要提交的页码*/\n    function handlerPageChange(value) {\n      custListQeury(value);\n    }\n    const __returned__ = {\n      custList,\n      total,\n      custListQeury,\n      handlerPageChange,\n      onMounted,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["onMounted","ref","axios","custList","total","custListQeury","pageNum","get","then","response","value","data","catch","error","console","log","handlerPageChange"],"sources":["D:/Program/Web QP/vue/erpfront/src/views/ListCustomer.vue"],"sourcesContent":["<template>\n  <h2>客户列表</h2>\n\n  <el-table :data=\"custList\" stripe style=\"width: 100%\">\n    <el-table-column prop=\"id\" label=\"客户编号\" width=\"180\" />\n    <el-table-column prop=\"custName\" label=\"客户姓名\" width=\"180\" />\n    <el-table-column prop=\"address\" label=\"客户地址\" />\n    <el-table-column prop=\"phone\" label=\"客户电话\" />\n    <el-table-column prop=\"custType\" label=\"客户职业\" />\n    <el-table-column prop=\"grade\" label=\"客户等级\" />\n    <el-table-column prop=\"hisTotal\" label=\"消费总额\" />\n\n    <el-table-column fixed=\"right\" label=\"操作\" width=\"120\">\n      <template #default>\n        <el-button link type=\"primary\" size=\"small\"\n                   >删除</el-button>\n        <el-button link type=\"primary\" size=\"small\">修改</el-button>\n      </template>\n    </el-table-column>\n\n  </el-table>\n  <hr/>\n\n  <el-pagination\n      small\n      background\n      :page-size=\"3\"\n      :pager-count=\"10\"\n      layout=\"prev, pager, next\"\n      :total=\"total\"\n      class=\"mt-4\" @current-change=\"handlerPageChange\"/>\n</template>\n\n<script setup>\n\nimport {onMounted, ref} from \"vue\";\nimport axios from \"axios\";\n //定义客户列表集合数据\n const custList=ref([]);\n //定义客户列表总记录数\n const total=ref();\n //定义函数发送ajax请求加载列表数据\n function custListQeury(pageNum){\n   axios.get(\"http://localhost:8081/listCust?pageNum=\"+pageNum)\n   .then((response)=>{\n     custList.value=response.data.custList;\n     total.value=response.data.total;\n   })\n   .catch((error)=>{\n     console.log(error);\n   });\n }\n //页面挂在加载客户列表数据\n onMounted(function(){\n   custListQeury(1);\n });\n /*处理上一页，下一页按钮回调,value绑定需要提交的页码*/\n  function handlerPageChange(value){\n    custListQeury(value)\n  }\n</script>\n\n<style scoped>\n\n</style>\n"],"mappings":"AAmCA,SAAQA,SAAS,EAAEC,GAAG,QAAO,KAAK;AAClC,OAAOC,KAAK,MAAM,OAAO;AACxB;;;;;;;;IACA,MAAMC,QAAQ,GAACF,GAAG,CAAC,EAAE,CAAC;IACtB;IACA,MAAMG,KAAK,GAACH,GAAG,CAAC,CAAC;IACjB;IACA,SAASI,aAAaA,CAACC,OAAO,EAAC;MAC7BJ,KAAK,CAACK,GAAG,CAAC,yCAAyC,GAACD,OAAO,EAC1DE,IAAI,CAAEC,QAAQ,IAAG;QAChBN,QAAQ,CAACO,KAAK,GAACD,QAAQ,CAACE,IAAI,CAACR,QAAQ;QACrCC,KAAK,CAACM,KAAK,GAACD,QAAQ,CAACE,IAAI,CAACP,KAAK;MACjC,CAAC,EACAQ,KAAK,CAAEC,KAAK,IAAG;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACJ;IACA;IACAb,SAAS,CAAC,YAAU;MAClBK,aAAa,CAAC,CAAC,CAAC;IAClB,CAAC,CAAC;IACF;IACC,SAASW,iBAAiBA,CAACN,KAAK,EAAC;MAC/BL,aAAa,CAACK,KAAK;IACrB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}