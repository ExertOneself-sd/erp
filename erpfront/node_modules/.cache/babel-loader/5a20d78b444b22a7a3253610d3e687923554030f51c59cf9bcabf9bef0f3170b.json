{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport { reactive, ref } from \"vue\";\nimport { useRouter } from \"vue-router\";\nimport { ElMessage } from \"element-plus\";\nimport { getCurrentInstance } from \"vue\";\nimport { User, Lock, Iphone, Wechat, Avatar } from '@element-plus/icons-vue';\nexport default {\n  __name: 'login',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const axios = getCurrentInstance().proxy.axios;\n    const router = useRouter();\n    const loginForm = ref();\n    const loading = ref(false);\n    const rememberMe = ref(false);\n    const loginUser = reactive({\n      uname: '',\n      upwd: ''\n    });\n    function userLogin() {\n      if (!loginUser.uname || !loginUser.upwd) {\n        ElMessage.warning('请输入账号和密码');\n        return;\n      }\n      loading.value = true;\n      axios.post(\"http://localhost:8081/userLogin\", loginUser).then(response => {\n        if (response.data.code == 200) {\n          ElMessage.success('登录成功');\n          // 进行路由跳转\n          setTimeout(() => {\n            router.push({\n              name: 'index'\n            });\n          }, 800);\n        } else {\n          ElMessage.error(response.data.msg);\n        }\n      }).catch(error => {\n        ElMessage.error('登录失败，请检查网络连接');\n        console.error(error);\n      }).finally(() => {\n        loading.value = false;\n      });\n    }\n    const __returned__ = {\n      axios,\n      router,\n      loginForm,\n      loading,\n      rememberMe,\n      loginUser,\n      userLogin,\n      reactive,\n      ref,\n      get useRouter() {\n        return useRouter;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      getCurrentInstance,\n      get User() {\n        return User;\n      },\n      get Lock() {\n        return Lock;\n      },\n      get Iphone() {\n        return Iphone;\n      },\n      get Wechat() {\n        return Wechat;\n      },\n      get Avatar() {\n        return Avatar;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","useRouter","ElMessage","getCurrentInstance","User","Lock","Iphone","Wechat","Avatar","axios","proxy","router","loginForm","loading","rememberMe","loginUser","uname","upwd","userLogin","warning","value","post","then","response","data","code","success","setTimeout","push","name","error","msg","catch","console","finally"],"sources":["D:/Program/Java QP/Erp/erpfront/src/views/login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"background-gradient\"></div>\r\n    <div class=\"login-content\">\r\n      <el-card class=\"login-card\" shadow=\"hover\">\r\n        <div class=\"system-title\">\r\n          <div class=\"logo-container\">\r\n            <div class=\"logo-circle\">\r\n              <svg viewBox=\"0 0 24 24\" class=\"logo-icon\">\r\n                <path d=\"M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5\"></path>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n          <div class=\"title-text\">ERP系统</div>\r\n          <div class=\"subtitle\">企业资源管理系统</div>\r\n        </div>\r\n\r\n        <el-form\r\n          ref=\"loginForm\"\r\n          :model=\"loginUser\"\r\n          size=\"large\"\r\n          label-position=\"top\"\r\n          style=\"width: 100%; margin-top: 15px\"\r\n        >\r\n          <el-form-item label=\"账号\" class=\"form-item\">\r\n            <el-input \r\n              v-model=\"loginUser.uname\" \r\n              placeholder=\"请输入账号\"\r\n              prefix-icon=\"User\"\r\n            ></el-input>\r\n          </el-form-item>\r\n          <el-form-item label=\"密码\" class=\"form-item\">\r\n            <el-input \r\n              type=\"password\" \r\n              v-model=\"loginUser.upwd\" \r\n              show-password \r\n              placeholder=\"请输入密码\"\r\n              prefix-icon=\"Lock\"\r\n            ></el-input>\r\n          </el-form-item>\r\n\r\n          <div class=\"remember-forgot\">\r\n            <el-checkbox v-model=\"rememberMe\">记住我</el-checkbox>\r\n            <el-link type=\"primary\" :underline=\"false\">忘记密码?</el-link>\r\n          </div>\r\n        </el-form>\r\n\r\n        <div class=\"login-footer\">\r\n          <el-button\r\n            @click=\"userLogin\"\r\n            type=\"primary\"\r\n            size=\"large\"\r\n            class=\"login-btn\"\r\n            :loading=\"loading\"\r\n          >登录</el-button>\r\n          <div class=\"divider\">或</div>\r\n          <div class=\"social-login\">\r\n            <el-button circle><el-icon><Iphone /></el-icon></el-button>\r\n            <el-button circle><el-icon><Wechat /></el-icon></el-button>\r\n            <el-button circle><el-icon><Avatar /></el-icon></el-button>\r\n          </div>\r\n          <div class=\"register-link\">\r\n            还没有账号? <el-link type=\"primary\" :underline=\"false\">立即注册</el-link>\r\n          </div>\r\n        </div>\r\n      </el-card>\r\n      \r\n      <div class=\"copyright\">\r\n        © 2023 企业ERP系统 | 科技驱动业务创新\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref } from \"vue\";\r\nimport { useRouter } from \"vue-router\"\r\nimport { ElMessage } from \"element-plus\";\r\nimport { getCurrentInstance } from \"vue\";\r\nimport { User, Lock, Iphone, Wechat, Avatar } from '@element-plus/icons-vue'\r\n\r\nconst axios = getCurrentInstance().proxy.axios\r\nconst router = useRouter()\r\nconst loginForm = ref()\r\nconst loading = ref(false)\r\nconst rememberMe = ref(false)\r\n\r\nconst loginUser = reactive({\r\n  uname: '',\r\n  upwd: ''\r\n})\r\n\r\nfunction userLogin() {\r\n  if (!loginUser.uname || !loginUser.upwd) {\r\n    ElMessage.warning('请输入账号和密码')\r\n    return\r\n  }\r\n  \r\n  loading.value = true\r\n  axios.post(\"http://localhost:8081/userLogin\", loginUser)\r\n    .then((response) => {\r\n      if (response.data.code == 200) {\r\n        ElMessage.success('登录成功')\r\n        // 进行路由跳转\r\n        setTimeout(() => {\r\n          router.push({ name: 'index' })\r\n        }, 800)\r\n      } else {\r\n        ElMessage.error(response.data.msg)\r\n      }\r\n    })\r\n    .catch((error) => {\r\n      ElMessage.error('登录失败，请检查网络连接')\r\n      console.error(error)\r\n    })\r\n    .finally(() => {\r\n      loading.value = false\r\n    })\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* 全局盒模型设置，确保内边距和边框不增加元素实际尺寸 */\r\n* {\r\n  box-sizing: border-box;\r\n}\r\n\r\n.login-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  min-height: 100vh;\r\n  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);\r\n  position: relative;\r\n  overflow: hidden;\r\n  padding: 15px;\r\n  margin: 0;\r\n}\r\n\r\n.background-gradient {\r\n  position: absolute;\r\n  top: -50%;\r\n  left: -50%;\r\n  width: 200%;\r\n  height: 200%;\r\n  background: radial-gradient(circle, #e3eeff 0%, #f3f6ff 70%, transparent 100%);\r\n  z-index: 0;\r\n  opacity: 0.7;\r\n}\r\n\r\n.login-content {\r\n  position: relative;\r\n  z-index: 1;\r\n  width: 100%;\r\n  max-width: 420px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.login-card {\r\n  border-radius: 16px;\r\n  overflow: hidden;\r\n  border: none;\r\n  padding: 28px 22px;\r\n  box-shadow: 0 10px 25px rgba(64, 158, 255, 0.15);\r\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\r\n  width: 100%;\r\n  margin: 0;\r\n}\r\n\r\n.login-card:hover {\r\n  transform: translateY(-5px);\r\n  box-shadow: 0 12px 30px rgba(64, 158, 255, 0.25);\r\n}\r\n\r\n.system-title {\r\n  text-align: center;\r\n  margin-bottom: 18px;\r\n}\r\n\r\n.logo-container {\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-bottom: 12px;\r\n}\r\n\r\n.logo-circle {\r\n  width: 75px;\r\n  height: 75px;\r\n  border-radius: 50%;\r\n  background: linear-gradient(135deg, #409eff 0%, #79bbff 100%);\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  box-shadow: 0 3px 10px rgba(64, 158, 255, 0.3);\r\n}\r\n\r\n.logo-icon {\r\n  width: 44px;\r\n  height: 44px;\r\n  fill: white;\r\n  stroke: white;\r\n  stroke-width: 1.5;\r\n}\r\n\r\n.title-text {\r\n  color: #303133;\r\n  font-size: 26px;\r\n  font-weight: 700;\r\n  letter-spacing: 0.8px;\r\n  margin-bottom: 4px;\r\n  background: linear-gradient(135deg, #409eff, #79bbff);\r\n  -webkit-background-clip: text;\r\n  -webkit-text-fill-color: transparent;\r\n  background-clip: text;\r\n}\r\n\r\n.subtitle {\r\n  color: #909399;\r\n  font-size: 13px;\r\n  letter-spacing: 1.5px;\r\n  margin-top: 3px;\r\n}\r\n\r\n.form-item {\r\n  margin-bottom: 18px;\r\n}\r\n\r\n:deep(.el-form-item__label) {\r\n  font-weight: 500;\r\n  color: #606266;\r\n  margin-bottom: 6px;\r\n  font-size: 14px;\r\n}\r\n\r\n:deep(.el-input__wrapper) {\r\n  border-radius: 8px;\r\n  padding: 0 12px;\r\n  box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);\r\n  transition: all 0.3s ease;\r\n  height: 42px;\r\n}\r\n\r\n:deep(.el-input__wrapper:hover),\r\n:deep(.el-input__wrapper.is-focus) {\r\n  box-shadow: 0 2px 6px rgba(64, 158, 255, 0.25);\r\n}\r\n\r\n:deep(.el-input__inner) {\r\n  height: 40px;\r\n}\r\n\r\n.remember-forgot {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  margin: 3px 0 12px;\r\n  font-size: 13px;\r\n}\r\n\r\n.login-footer {\r\n  margin-top: 12px;\r\n  width: 100%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n}\r\n\r\n.login-btn {\r\n  width: 100%;\r\n  border-radius: 8px;\r\n  height: 44px;\r\n  font-size: 15px;\r\n  font-weight: 600;\r\n  letter-spacing: 1.5px;\r\n  background: linear-gradient(135deg, #409eff, #79bbff);\r\n  border: none;\r\n  box-shadow: 0 3px 10px rgba(64, 158, 255, 0.3);\r\n  transition: all 0.3s ease;\r\n  margin-bottom: 12px;\r\n  padding: 0;\r\n}\r\n\r\n.login-btn:hover {\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(64, 158, 255, 0.4);\r\n}\r\n\r\n.divider {\r\n  display: flex;\r\n  align-items: center;\r\n  color: #909399;\r\n  margin: 12px 0;\r\n  text-align: center;\r\n  width: 100%;\r\n  font-size: 14px;\r\n}\r\n\r\n.divider::before,\r\n.divider::after {\r\n  content: \"\";\r\n  flex: 1;\r\n  border-bottom: 1px solid #dcdfe6;\r\n}\r\n\r\n.divider::before {\r\n  margin-right: 12px;\r\n}\r\n\r\n.divider::after {\r\n  margin-left: 12px;\r\n}\r\n\r\n.social-login {\r\n  display: flex;\r\n  justify-content: center;\r\n  gap: 12px;\r\n  margin-bottom: 12px;\r\n  width: 100%;\r\n}\r\n\r\n:deep(.social-login .el-button) {\r\n  width: 40px;\r\n  height: 40px;\r\n  font-size: 16px;\r\n  background-color: #f5f7fa;\r\n  border: 1px solid #e4e7ed;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n:deep(.social-login .el-button:hover) {\r\n  transform: translateY(-3px);\r\n  background-color: #ecf5ff;\r\n  border-color: #409eff;\r\n  color: #409eff;\r\n}\r\n\r\n.register-link {\r\n  text-align: center;\r\n  color: #909399;\r\n  font-size: 13px;\r\n  margin-top: 5px;\r\n  width: 100%;\r\n}\r\n\r\n.copyright {\r\n  text-align: center;\r\n  color: #909399;\r\n  font-size: 12px;\r\n  margin-top: 15px;\r\n  letter-spacing: 0.5px;\r\n  width: 100%;\r\n}\r\n\r\n@media (max-width: 400px) {\r\n  .login-card {\r\n    padding: 22px 18px;\r\n  }\r\n  \r\n  .title-text {\r\n    font-size: 24px;\r\n  }\r\n  \r\n  .logo-circle {\r\n    width: 70px;\r\n    height: 70px;\r\n  }\r\n  \r\n  .logo-icon {\r\n    width: 40px;\r\n    height: 40px;\r\n  }\r\n  \r\n  .form-item {\r\n    margin-bottom: 15px;\r\n  }\r\n  \r\n  .login-btn {\r\n    height: 40px;\r\n    font-size: 14px;\r\n  }\r\n  \r\n  :deep(.el-input__wrapper) {\r\n    height: 38px;\r\n  }\r\n  \r\n  :deep(.el-input__inner) {\r\n    height: 36px;\r\n  }\r\n}\r\n</style>"],"mappings":";AA2EA,SAASA,QAAQ,EAAEC,GAAG,QAAQ,KAAK;AACnC,SAASC,SAAS,QAAQ,YAAY;AACtC,SAASC,SAAS,QAAQ,cAAc;AACxC,SAASC,kBAAkB,QAAQ,KAAK;AACxC,SAASC,IAAI,EAAEC,IAAI,EAAEC,MAAM,EAAEC,MAAM,EAAEC,MAAM,QAAQ,yBAAyB;;;;;;;IAE5E,MAAMC,KAAK,GAAGN,kBAAkB,CAAC,CAAC,CAACO,KAAK,CAACD,KAAK;IAC9C,MAAME,MAAM,GAAGV,SAAS,CAAC,CAAC;IAC1B,MAAMW,SAAS,GAAGZ,GAAG,CAAC,CAAC;IACvB,MAAMa,OAAO,GAAGb,GAAG,CAAC,KAAK,CAAC;IAC1B,MAAMc,UAAU,GAAGd,GAAG,CAAC,KAAK,CAAC;IAE7B,MAAMe,SAAS,GAAGhB,QAAQ,CAAC;MACzBiB,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;IACR,CAAC,CAAC;IAEF,SAASC,SAASA,CAAA,EAAG;MACnB,IAAI,CAACH,SAAS,CAACC,KAAK,IAAI,CAACD,SAAS,CAACE,IAAI,EAAE;QACvCf,SAAS,CAACiB,OAAO,CAAC,UAAU,CAAC;QAC7B;MACF;MAEAN,OAAO,CAACO,KAAK,GAAG,IAAI;MACpBX,KAAK,CAACY,IAAI,CAAC,iCAAiC,EAAEN,SAAS,CAAC,CACrDO,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAACC,IAAI,CAACC,IAAI,IAAI,GAAG,EAAE;UAC7BvB,SAAS,CAACwB,OAAO,CAAC,MAAM,CAAC;UACzB;UACAC,UAAU,CAAC,MAAM;YACfhB,MAAM,CAACiB,IAAI,CAAC;cAAEC,IAAI,EAAE;YAAQ,CAAC,CAAC;UAChC,CAAC,EAAE,GAAG,CAAC;QACT,CAAC,MAAM;UACL3B,SAAS,CAAC4B,KAAK,CAACP,QAAQ,CAACC,IAAI,CAACO,GAAG,CAAC;QACpC;MACF,CAAC,CAAC,CACDC,KAAK,CAAEF,KAAK,IAAK;QAChB5B,SAAS,CAAC4B,KAAK,CAAC,cAAc,CAAC;QAC/BG,OAAO,CAACH,KAAK,CAACA,KAAK,CAAC;MACtB,CAAC,CAAC,CACDI,OAAO,CAAC,MAAM;QACbrB,OAAO,CAACO,KAAK,GAAG,KAAK;MACvB,CAAC,CAAC;IACN","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}