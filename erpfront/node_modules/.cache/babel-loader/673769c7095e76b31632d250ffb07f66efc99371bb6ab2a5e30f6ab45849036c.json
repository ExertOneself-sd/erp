{"ast":null,"code":"import * as echarts from 'echarts';\nimport { onMounted } from \"vue\";\nimport axios from \"axios\";\n\n//定义函数统计客户地区分布\n\nexport default {\n  __name: 'CustomerArea',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    function countCustomerArea() {\n      //发送ajax请求，获得统计数据\n      axios.get(\"http://localhost:8081/countCust\").then(response => {\n        //响应成功渲染图表\n        var custDom = document.getElementById('main');\n        var custChart = echarts.init(custDom);\n        var option = {\n          title: {\n            text: '客户地区分布统计',\n            left: 'center'\n          },\n          tooltip: {\n            trigger: 'item',\n            formatter: '{a} <br/>{b} : {c} ({d}%)'\n          },\n          toolbox: {\n            show: true,\n            feature: {\n              mark: {\n                show: true\n              },\n              dataView: {\n                show: true,\n                readOnly: false\n              },\n              restore: {\n                show: true\n              },\n              saveAsImage: {\n                show: true\n              }\n            }\n          },\n          series: [{\n            name: '客户分布',\n            type: 'pie',\n            radius: [20, 140],\n            center: ['50%', '50%'],\n            roseType: 'area',\n            itemStyle: {\n              borderRadius: 5\n            },\n            data: response.data\n          }]\n        };\n        option && custChart.setOption(option);\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    //加载视图调用函数\n    onMounted(function () {\n      countCustomerArea();\n    });\n    const __returned__ = {\n      countCustomerArea,\n      get echarts() {\n        return echarts;\n      },\n      onMounted,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["echarts","onMounted","axios","countCustomerArea","get","then","response","custDom","document","getElementById","custChart","init","option","title","text","left","tooltip","trigger","formatter","toolbox","show","feature","mark","dataView","readOnly","restore","saveAsImage","series","name","type","radius","center","roseType","itemStyle","borderRadius","data","setOption","catch","error","console","log"],"sources":["D:/Program/Java QP/Erp/erpfront/src/views/CustomerArea.vue"],"sourcesContent":["<template>\r\n\r\n  <!-- div容器用来渲染echarts控件 -->\r\n  <div id=\"main\" style=\"width: 100%;height: 100%\"></div>\r\n</template>\r\n\r\n<script setup>\r\nimport * as echarts from 'echarts';\r\nimport {onMounted} from \"vue\";\r\nimport axios from \"axios\";\r\n\r\n//定义函数统计客户地区分布\r\nfunction countCustomerArea(){\r\n  //发送ajax请求，获得统计数据\r\n  axios.get(\"http://localhost:8081/countCust\")\r\n  .then((response)=>{\r\n\r\n    //响应成功渲染图表\r\n    var custDom = document.getElementById('main');\r\n    var custChart = echarts.init(custDom);\r\n    var option = {\r\n      title: {\r\n        text: '客户地区分布统计',\r\n        left: 'center'\r\n      },\r\n      tooltip: {\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b} : {c} ({d}%)'\r\n      },\r\n      toolbox: {\r\n        show: true,\r\n        feature: {\r\n          mark: { show: true },\r\n          dataView: { show: true, readOnly: false },\r\n          restore: { show: true },\r\n          saveAsImage: { show: true }\r\n        }\r\n      },\r\n      series: [\r\n        {\r\n          name: '客户分布',\r\n          type: 'pie',\r\n          radius: [20, 140],\r\n          center: ['50%', '50%'],\r\n          roseType: 'area',\r\n          itemStyle: {\r\n            borderRadius: 5\r\n          },\r\n          data:response.data\r\n        }\r\n      ]\r\n    };\r\n\r\n    option && custChart.setOption(option);\r\n\r\n  })\r\n  .catch((error)=>{\r\n    console.log(error);\r\n  })\r\n\r\n}\r\n//加载视图调用函数\r\nonMounted(function(){\r\n  countCustomerArea();\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n\r\n</style>"],"mappings":"AAOA,OAAO,KAAKA,OAAO,MAAM,SAAS;AAClC,SAAQC,SAAS,QAAO,KAAK;AAC7B,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;;;;;;;IACA,SAASC,iBAAiBA,CAAA,EAAE;MAC1B;MACAD,KAAK,CAACE,GAAG,CAAC,iCAAiC,CAAC,CAC3CC,IAAI,CAAEC,QAAQ,IAAG;QAEhB;QACA,IAAIC,OAAO,GAAGC,QAAQ,CAACC,cAAc,CAAC,MAAM,CAAC;QAC7C,IAAIC,SAAS,GAAGV,OAAO,CAACW,IAAI,CAACJ,OAAO,CAAC;QACrC,IAAIK,MAAM,GAAG;UACXC,KAAK,EAAE;YACLC,IAAI,EAAE,UAAU;YAChBC,IAAI,EAAE;UACR,CAAC;UACDC,OAAO,EAAE;YACPC,OAAO,EAAE,MAAM;YACfC,SAAS,EAAE;UACb,CAAC;UACDC,OAAO,EAAE;YACPC,IAAI,EAAE,IAAI;YACVC,OAAO,EAAE;cACPC,IAAI,EAAE;gBAAEF,IAAI,EAAE;cAAK,CAAC;cACpBG,QAAQ,EAAE;gBAAEH,IAAI,EAAE,IAAI;gBAAEI,QAAQ,EAAE;cAAM,CAAC;cACzCC,OAAO,EAAE;gBAAEL,IAAI,EAAE;cAAK,CAAC;cACvBM,WAAW,EAAE;gBAAEN,IAAI,EAAE;cAAK;YAC5B;UACF,CAAC;UACDO,MAAM,EAAE,CACN;YACEC,IAAI,EAAE,MAAM;YACZC,IAAI,EAAE,KAAK;YACXC,MAAM,EAAE,CAAC,EAAE,EAAE,GAAG,CAAC;YACjBC,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;YACtBC,QAAQ,EAAE,MAAM;YAChBC,SAAS,EAAE;cACTC,YAAY,EAAE;YAChB,CAAC;YACDC,IAAI,EAAC7B,QAAQ,CAAC6B;UAChB,CAAC;QAEL,CAAC;QAEDvB,MAAM,IAAIF,SAAS,CAAC0B,SAAS,CAACxB,MAAM,CAAC;MAEvC,CAAC,CAAC,CACDyB,KAAK,CAAEC,KAAK,IAAG;QACdC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IAEJ;IACA;IACArC,SAAS,CAAC,YAAU;MAClBE,iBAAiB,CAAC,CAAC;IACrB,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}