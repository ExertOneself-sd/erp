{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, createVNode as _createVNode, withCtx as _withCtx, withModifiers as _withModifiers, withKeys as _withKeys, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  class: \"login-wrapper\"\n};\nconst _hoisted_2 = {\n  class: \"login-footer\"\n};\nconst _hoisted_3 = {\n  key: 0,\n  class: \"loading-mask\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_input = _resolveComponent(\"el-input\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  const _component_el_button = _resolveComponent(\"el-button\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_spinner = _resolveComponent(\"el-spinner\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createCommentVNode(\" 背景装饰元素 \"), _cache[4] || (_cache[4] = _createElementVNode(\"div\", {\n    class: \"bg-pattern\"\n  }, null, -1 /* HOISTED */)), _cache[5] || (_cache[5] = _createElementVNode(\"div\", {\n    class: \"bg-gradient\"\n  }, null, -1 /* HOISTED */)), _createVNode(_component_el_card, {\n    class: \"login-card\",\n    shadow: \"hover\"\n  }, {\n    default: _withCtx(() => [_createCommentVNode(\" 顶部装饰 \"), _cache[3] || (_cache[3] = _createElementVNode(\"div\", {\n      class: \"login-header\"\n    }, [_createElementVNode(\"div\", {\n      class: \"logo\"\n    }, [_createElementVNode(\"i\", {\n      class: \"el-icon-s-home\"\n    })]), _createElementVNode(\"h1\", {\n      class: \"title\"\n    }, \"ERP系统\")], -1 /* HOISTED */)), _createVNode(_component_el_form, {\n      ref: \"loginForm\",\n      model: $setup.loginUser,\n      size: \"large\",\n      \"label-position\": \"right\",\n      \"label-width\": \"70px\",\n      class: \"login-form\",\n      rules: $setup.rules,\n      onKeyup: _withKeys(_withModifiers($setup.userLogin, [\"prevent\"]), [\"enter\"])\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_form_item, {\n        prop: \"uname\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          modelValue: $setup.loginUser.uname,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $setup.loginUser.uname = $event),\n          placeholder: \"请输入账号\",\n          \"prefix-icon\": \"el-icon-user\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_form_item, {\n        prop: \"upwd\"\n      }, {\n        default: _withCtx(() => [_createVNode(_component_el_input, {\n          type: \"password\",\n          modelValue: $setup.loginUser.upwd,\n          \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $setup.loginUser.upwd = $event),\n          placeholder: \"请输入密码\",\n          \"prefix-icon\": \"el-icon-lock\",\n          \"show-password\": \"\"\n        }, null, 8 /* PROPS */, [\"modelValue\"])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"model\", \"rules\", \"onKeyup\"]), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_el_button, {\n      onClick: $setup.userLogin,\n      type: \"primary\",\n      size: \"large\",\n      loading: $setup.loading,\n      class: \"login-button\",\n      style: {\n        width: '100%'\n      }\n    }, {\n      default: _withCtx(() => _cache[2] || (_cache[2] = [_createTextVNode(\" 登录 \")])),\n      _: 1 /* STABLE */\n    }, 8 /* PROPS */, [\"loading\"])])]),\n    _: 1 /* STABLE */\n  }), _createCommentVNode(\" 加载遮罩 \"), $setup.loading ? (_openBlock(), _createElementBlock(\"div\", _hoisted_3, [_createVNode(_component_el_spinner, {\n    size: \"large\",\n    class: \"loading-spinner\"\n  })])) : _createCommentVNode(\"v-if\", true)]);\n}","map":{"version":3,"names":["class","key","_createElementBlock","_hoisted_1","_createCommentVNode","_createElementVNode","_createVNode","_component_el_card","shadow","default","_withCtx","_component_el_form","ref","model","$setup","loginUser","size","rules","onKeyup","_withKeys","_withModifiers","userLogin","_component_el_form_item","prop","_component_el_input","modelValue","uname","_cache","$event","placeholder","_","type","upwd","_hoisted_2","_component_el_button","onClick","loading","style","width","_createTextVNode","_hoisted_3","_component_el_spinner"],"sources":["D:\\Program\\Java QP\\Erp\\erpfront\\src\\views\\login.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-wrapper\">\r\n    <!-- 背景装饰元素 -->\r\n    <div class=\"bg-pattern\"></div>\r\n    <div class=\"bg-gradient\"></div>\r\n    \r\n    <el-card class=\"login-card\" shadow=\"hover\">\r\n      <!-- 顶部装饰 -->\r\n      <div class=\"login-header\">\r\n        <div class=\"logo\">\r\n          <i class=\"el-icon-s-home\"></i>\r\n        </div>\r\n        <h1 class=\"title\">ERP系统</h1>\r\n      </div>\r\n      \r\n      <el-form\r\n        ref=\"loginForm\"\r\n        :model=\"loginUser\"\r\n        size=\"large\"\r\n        label-position=\"right\"\r\n        label-width=\"70px\"\r\n        class=\"login-form\"\r\n        :rules=\"rules\"\r\n        @keyup.enter.prevent=\"userLogin\"\r\n      >\r\n        <el-form-item prop=\"uname\">\r\n          <el-input \r\n            v-model=\"loginUser.uname\" \r\n            placeholder=\"请输入账号\"\r\n            prefix-icon=\"el-icon-user\"\r\n          ></el-input>\r\n        </el-form-item>\r\n        <el-form-item prop=\"upwd\">\r\n          <el-input \r\n            type=\"password\" \r\n            v-model=\"loginUser.upwd\" \r\n            placeholder=\"请输入密码\"\r\n            prefix-icon=\"el-icon-lock\"\r\n            show-password\r\n          ></el-input>\r\n        </el-form-item>\r\n      </el-form>\r\n      \r\n      <div class=\"login-footer\">\r\n        <el-button\r\n          @click=\"userLogin\"\r\n          type=\"primary\"\r\n          size=\"large\"\r\n          :loading=\"loading\"\r\n          class=\"login-button\"\r\n          :style=\"{width: '100%'}\"\r\n        >\r\n          登录\r\n        </el-button>\r\n      </div>\r\n    </el-card>\r\n    \r\n    <!-- 加载遮罩 -->\r\n    <div v-if=\"loading\" class=\"loading-mask\">\r\n      <el-spinner size=\"large\" class=\"loading-spinner\"></el-spinner>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref, onMounted } from \"vue\";\r\nimport { useRouter } from \"vue-router\";\r\nimport { ElMessage, ElMessageBox } from \"element-plus\";\r\nimport { getCurrentInstance } from \"vue\";\r\n\r\nconst router = useRouter();\r\nconst loginForm = ref(null);\r\nconst loading = ref(false);\r\nconst axios = getCurrentInstance().proxy.axios;\r\n\r\nconst loginUser = reactive({\r\n  uname: \"admin\", // 预设账号便于测试\r\n  upwd: \"123456\"   // 预设密码便于测试\r\n});\r\n\r\n// 表单验证规则\r\nconst rules = reactive({\r\n  uname: [{ required: true, message: \"请输入账号\", trigger: \"blur\" }],\r\n  upwd: [{ required: true, message: \"请输入密码\", trigger: \"blur\" }]\r\n});\r\n\r\n// 登录方法\r\nfunction userLogin() {\r\n  loginForm.value.validate((valid) => {\r\n    if (valid) {\r\n      loading.value = true;\r\n      axios.post(\"http://localhost:8081/userLogin\", loginUser)\r\n        .then((response) => {\r\n          if (response.data.code == 200) {\r\n            ElMessage({\r\n              message: \"登录成功\",\r\n              type: \"success\",\r\n              duration: 1500\r\n            });\r\n            // 模拟登录延迟，增强用户体验\r\n            setTimeout(() => {\r\n              router.push({ name: \"index\" });\r\n            }, 800);\r\n          } else {\r\n            ElMessage(response.data.msg);\r\n          }\r\n        })\r\n        .catch((error) => {\r\n          console.log(error);\r\n          ElMessage({\r\n            message: \"登录失败，请检查网络连接\",\r\n            type: \"error\"\r\n          });\r\n        })\r\n        .finally(() => {\r\n          loading.value = false;\r\n        });\r\n    } else {\r\n      console.log(\"验证失败\");\r\n      return false;\r\n    }\r\n  });\r\n}\r\n\r\n// 页面加载动画\r\nonMounted(() => {\r\n  const card = document.querySelector('.login-card');\r\n  if (card) {\r\n    card.style.opacity = '0';\r\n    card.style.transform = 'translateY(20px)';\r\n    setTimeout(() => {\r\n      card.style.transition = 'all 0.6s ease';\r\n      card.style.opacity = '1';\r\n      card.style.transform = 'translateY(0)';\r\n    }, 100);\r\n  }\r\n});\r\n</script>\r\n\r\n<style scoped>\r\n.login-wrapper {\r\n  position: relative;\r\n  min-height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 20px;\r\n  background-color: #f5f7fa;\r\n}\r\n\r\n/* 背景样式 */\r\n.bg-pattern {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background-image: \r\n    linear-gradient(to right, rgba(22, 93, 255, 0.05) 1px, transparent 1px),\r\n    linear-gradient(to bottom, rgba(22, 93, 255, 0.05) 1px, transparent 1px);\r\n  background-size: 20px 20px;\r\n  z-index: 0;\r\n}\r\n\r\n.bg-gradient {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: linear-gradient(135deg, #1e3c72 0%, #1e3c72 1%, #2a5298 100%);\r\n  opacity: 0.05;\r\n  z-index: 1;\r\n}\r\n\r\n/* 登录卡片样式 */\r\n.login-card {\r\n  position: relative;\r\n  z-index: 2;\r\n  width: 100%;\r\n  max-width: 420px;\r\n  border-radius: 12px;\r\n  overflow: hidden;\r\n  box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.login-card:hover {\r\n  box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);\r\n}\r\n\r\n/* 头部样式 */\r\n.login-header {\r\n  padding: 40px 30px 20px;\r\n  text-align: center;\r\n  border-bottom: 1px solid #ebeef5;\r\n}\r\n\r\n.logo {\r\n  display: inline-flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  width: 80px;\r\n  height: 80px;\r\n  background-color: #165DFF;\r\n  border-radius: 50%;\r\n  color: white;\r\n  font-size: 32px;\r\n  margin-bottom: 20px;\r\n  box-shadow: 0 4px 12px rgba(22, 93, 255, 0.3);\r\n}\r\n\r\n.title {\r\n  font-size: 28px;\r\n  font-weight: 600;\r\n  color: #303133;\r\n  margin: 0;\r\n  letter-spacing: 1px;\r\n}\r\n\r\n/* 表单样式 */\r\n.login-form {\r\n  padding: 30px;\r\n}\r\n\r\n.el-form-item {\r\n  margin-bottom: 25px;\r\n}\r\n\r\n.el-input {\r\n  border-radius: 8px;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.el-input:focus-within {\r\n  .el-input__inner {\r\n    box-shadow: 0 0 0 2px rgba(22, 93, 255, 0.2);\r\n  }\r\n}\r\n\r\n.el-input__prefix {\r\n  color: #8c939d;\r\n}\r\n\r\n/* 底部样式 */\r\n.login-footer {\r\n  padding: 0 30px 30px;\r\n}\r\n\r\n.login-button {\r\n  height: 50px;\r\n  border-radius: 8px;\r\n  font-size: 16px;\r\n  font-weight: 500;\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.login-button:hover {\r\n  background-color: #0d47a1;\r\n  transform: translateY(-2px);\r\n  box-shadow: 0 4px 12px rgba(22, 93, 255, 0.3);\r\n}\r\n\r\n/* 加载遮罩样式 */\r\n.loading-mask {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  height: 100vh;\r\n  background-color: rgba(255, 255, 255, 0.8);\r\n  z-index: 1000;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.loading-spinner {\r\n  color: #165DFF;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 450px) {\r\n  .login-card {\r\n    max-width: 360px;\r\n  }\r\n  \r\n  .login-header {\r\n    padding: 30px 20px 15px;\r\n  }\r\n  \r\n  .login-form, .login-footer {\r\n    padding: 20px;\r\n  }\r\n  \r\n  .title {\r\n    font-size: 24px;\r\n  }\r\n}\r\n</style>"],"mappings":";;EACOA,KAAK,EAAC;AAAe;;EA0CjBA,KAAK,EAAC;AAAc;;EA3C/BC,GAAA;EA0DwBD,KAAK,EAAC;;;;;;;;;uBAzD5BE,mBAAA,CA4DM,OA5DNC,UA4DM,GA3DJC,mBAAA,YAAe,E,0BACfC,mBAAA,CAA8B;IAAzBL,KAAK,EAAC;EAAY,6B,0BACvBK,mBAAA,CAA+B;IAA1BL,KAAK,EAAC;EAAa,6BAExBM,YAAA,CAiDUC,kBAAA;IAjDDP,KAAK,EAAC,YAAY;IAACQ,MAAM,EAAC;;IANvCC,OAAA,EAAAC,QAAA,CAOM,MAAa,CAAbN,mBAAA,UAAa,E,0BACbC,mBAAA,CAKM;MALDL,KAAK,EAAC;IAAc,IACvBK,mBAAA,CAEM;MAFDL,KAAK,EAAC;IAAM,IACfK,mBAAA,CAA8B;MAA3BL,KAAK,EAAC;IAAgB,G,GAE3BK,mBAAA,CAA4B;MAAxBL,KAAK,EAAC;IAAO,GAAC,OAAK,E,sBAGzBM,YAAA,CA0BUK,kBAAA;MAzBRC,GAAG,EAAC,WAAW;MACdC,KAAK,EAAEC,MAAA,CAAAC,SAAS;MACjBC,IAAI,EAAC,OAAO;MACZ,gBAAc,EAAC,OAAO;MACtB,aAAW,EAAC,MAAM;MAClBhB,KAAK,EAAC,YAAY;MACjBiB,KAAK,EAAEH,MAAA,CAAAG,KAAK;MACZC,OAAK,EAvBdC,SAAA,CAAAC,cAAA,CAuB8BN,MAAA,CAAAO,SAAS;;MAvBvCZ,OAAA,EAAAC,QAAA,CAyBQ,MAMe,CANfJ,YAAA,CAMegB,uBAAA;QANDC,IAAI,EAAC;MAAO;QAzBlCd,OAAA,EAAAC,QAAA,CA0BU,MAIY,CAJZJ,YAAA,CAIYkB,mBAAA;UA9BtBC,UAAA,EA2BqBX,MAAA,CAAAC,SAAS,CAACW,KAAK;UA3BpC,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IA2BqBd,MAAA,CAAAC,SAAS,CAACW,KAAK,GAAAE,MAAA;UACxBC,WAAW,EAAC,OAAO;UACnB,aAAW,EAAC;;QA7BxBC,CAAA;UAgCQxB,YAAA,CAQegB,uBAAA;QARDC,IAAI,EAAC;MAAM;QAhCjCd,OAAA,EAAAC,QAAA,CAiCU,MAMY,CANZJ,YAAA,CAMYkB,mBAAA;UALVO,IAAI,EAAC,UAAU;UAlC3BN,UAAA,EAmCqBX,MAAA,CAAAC,SAAS,CAACiB,IAAI;UAnCnC,uBAAAL,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAmCqBd,MAAA,CAAAC,SAAS,CAACiB,IAAI,GAAAJ,MAAA;UACvBC,WAAW,EAAC,OAAO;UACnB,aAAW,EAAC,cAAc;UAC1B,eAAa,EAAb;;QAtCZC,CAAA;;MAAAA,CAAA;sDA2CMzB,mBAAA,CAWM,OAXN4B,UAWM,GAVJ3B,YAAA,CASY4B,oBAAA;MARTC,OAAK,EAAErB,MAAA,CAAAO,SAAS;MACjBU,IAAI,EAAC,SAAS;MACdf,IAAI,EAAC,OAAO;MACXoB,OAAO,EAAEtB,MAAA,CAAAsB,OAAO;MACjBpC,KAAK,EAAC,cAAc;MACnBqC,KAAK,EAAE;QAAAC,KAAA;MAAA;;MAlDlB7B,OAAA,EAAAC,QAAA,CAmDS,MAEDiB,MAAA,QAAAA,MAAA,OArDRY,gBAAA,CAmDS,MAED,E;MArDRT,CAAA;;IAAAA,CAAA;MAyDI1B,mBAAA,UAAa,EACFU,MAAA,CAAAsB,OAAO,I,cAAlBlC,mBAAA,CAEM,OAFNsC,UAEM,GADJlC,YAAA,CAA8DmC,qBAAA;IAAlDzB,IAAI,EAAC,OAAO;IAAChB,KAAK,EAAC;UA3DrCI,mBAAA,e","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}