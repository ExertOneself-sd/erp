{"ast":null,"code":"import AddCustomer from \"@/views/AddCustomer\";\nimport ListCustomer from \"@/views/ListCustomer\";\nimport AddSellJh from \"@/views/AddSellJh\";\nimport ListSellJh from \"@/views/ListSellJh\";\nimport ListCustOrder from \"@/views/ListCustOrder.vue\";\nimport { onMounted, ref } from \"vue\";\nimport axios from 'axios';\nimport { ElMessage, ElLoading } from 'element-plus';\n\n// 声明数组保存所有组件\n\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const views = [AddCustomer, ListCustomer,, ListCustOrder, AddSellJh,,, ListSellJh];\n    // 声明变量保存当前需要显示的组件名\n    const currentComponent = ref(views[0]);\n    // 声明菜单对象集合数据\n    const menus = ref([]);\n    // 加载状态\n    const loading = ref(false);\n\n    /* 菜单选中处理函数 */\n    const handlerSelect = async id => {\n      loading.value = true;\n      try {\n        const {\n          data\n        } = await axios.get(\"http://localhost:8081/compIndex?id=\" + id);\n        currentComponent.value = views[data];\n      } catch (error) {\n        ElMessage.error('加载组件失败: ' + error.message);\n        console.error('加载组件失败:', error);\n      } finally {\n        loading.value = false;\n      }\n    };\n\n    // 页面加载时获取菜单数据\n    onMounted(async () => {\n      const loadingInstance = ElLoading.service({\n        lock: true,\n        text: '加载菜单中...',\n        background: 'rgba(0, 0, 0, 0.7)'\n      });\n      try {\n        const {\n          data\n        } = await axios.get(\"http://localhost:8081/listMenus\");\n        menus.value = data;\n      } catch (error) {\n        ElMessage.error('加载菜单失败: ' + error.message);\n        console.error('加载菜单失败:', error);\n      } finally {\n        loadingInstance.close();\n      }\n    });\n    const __returned__ = {\n      views,\n      currentComponent,\n      menus,\n      loading,\n      handlerSelect,\n      get AddCustomer() {\n        return AddCustomer;\n      },\n      get ListCustomer() {\n        return ListCustomer;\n      },\n      get AddSellJh() {\n        return AddSellJh;\n      },\n      get ListSellJh() {\n        return ListSellJh;\n      },\n      ListCustOrder,\n      onMounted,\n      ref,\n      get axios() {\n        return axios;\n      },\n      get ElMessage() {\n        return ElMessage;\n      },\n      get ElLoading() {\n        return ElLoading;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["AddCustomer","ListCustomer","AddSellJh","ListSellJh","ListCustOrder","onMounted","ref","axios","ElMessage","ElLoading","views","currentComponent","menus","loading","handlerSelect","id","value","data","get","error","message","console","loadingInstance","service","lock","text","background","close"],"sources":["D:/Program/Web QP/vue/erpfront/src/views/index.vue"],"sourcesContent":["<template>\n  <!-- 后台主页布局 -->\n  <div class=\"common-layout\">\n    <el-container>\n      <el-header class=\"top\">\n        <div class=\"header-container\">\n          <div class=\"logo\">\n            <img src=\"@/assets/logo.png\" alt=\"ERP Logo\">\n            <span>ERP系统</span>\n          </div>\n          <div class=\"user-info\">\n            <el-dropdown>\n              <span class=\"el-dropdown-link\">\n                <el-avatar :size=\"32\" src=\"@/assets/user.png\" />\n                <span class=\"username\">管理员</span>\n              </span>\n              <template #dropdown>\n                <el-dropdown-menu>\n                  <el-dropdown-item>个人中心</el-dropdown-item>\n                  <el-dropdown-item>退出登录</el-dropdown-item>\n                </el-dropdown-menu>\n              </template>\n            </el-dropdown>\n          </div>\n        </div>\n      </el-header>\n      <el-container>\n        <el-aside width=\"240px\" class=\"left\">\n          <div class=\"menu-header\">\n            <h3>系统菜单</h3>\n          </div>\n          <el-menu\n            class=\"el-menu-vertical-demo\" \n            @select=\"handlerSelect\"\n            :default-active=\"String(menus[0]?.id)\"\n          >\n            <template v-for=\"menu in menus\" :key=\"menu.id\">\n              <el-sub-menu :index=\"String(menu.id)\">\n                <template #title>\n                  <el-icon><component :is=\"menu.icon || 'Menu'\" /></el-icon>\n                  <span>{{ menu.label }}</span>\n                </template>\n                <el-menu-item \n                  v-for=\"subMenu in menu.subMenus\"  \n                  :index=\"String(subMenu.id)\"\n                  :key=\"subMenu.id\"\n                >\n                  <el-icon><component :is=\"subMenu.icon || 'Menu'\" /></el-icon>\n                  <span>{{subMenu.label}}</span>\n                </el-menu-item>\n              </el-sub-menu>\n            </template>\n          </el-menu>\n        </el-aside>\n        <el-main class=\"right\">\n          <div class=\"breadcrumb\">\n            <el-breadcrumb separator=\"/\">\n              <el-breadcrumb-item :to=\"{ path: '/' }\">首页</el-breadcrumb-item>\n              <el-breadcrumb-item>当前页面</el-breadcrumb-item>\n            </el-breadcrumb>\n          </div>\n          <transition name=\"fade\" mode=\"out-in\">\n            <el-card v-loading=\"loading\" class=\"content-card\">\n              <component :is=\"currentComponent\"></component>\n            </el-card>\n          </transition>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n\n<script setup>\n  import AddCustomer from \"@/views/AddCustomer\";\n  import ListCustomer from \"@/views/ListCustomer\";\n  import AddSellJh from \"@/views/AddSellJh\";\n  import ListSellJh from \"@/views/ListSellJh\";\n  import ListCustOrder from \"@/views/ListCustOrder.vue\";\n  import {onMounted, ref} from \"vue\";\n  import axios from 'axios';\n  import { ElMessage, ElLoading } from 'element-plus';\n\n  // 声明数组保存所有组件\n  const views = [AddCustomer, ListCustomer,,ListCustOrder, AddSellJh,,, ListSellJh];\n  // 声明变量保存当前需要显示的组件名\n  const currentComponent = ref(views[0]);\n  // 声明菜单对象集合数据\n  const menus = ref([]);\n  // 加载状态\n  const loading = ref(false);\n\n  /* 菜单选中处理函数 */\n  const handlerSelect = async (id) => {\n    loading.value = true;\n    try {\n      const { data } = await axios.get(\"http://localhost:8081/compIndex?id=\" + id);\n      currentComponent.value = views[data];\n    } catch (error) {\n      ElMessage.error('加载组件失败: ' + error.message);\n      console.error('加载组件失败:', error);\n    } finally {\n      loading.value = false;\n    }\n  };\n\n  // 页面加载时获取菜单数据\n  onMounted(async () => {\n    const loadingInstance = ElLoading.service({\n      lock: true,\n      text: '加载菜单中...',\n      background: 'rgba(0, 0, 0, 0.7)'\n    });\n    \n    try {\n      const { data } = await axios.get(\"http://localhost:8081/listMenus\");\n      menus.value = data;\n    } catch (error) {\n      ElMessage.error('加载菜单失败: ' + error.message);\n      console.error('加载菜单失败:', error);\n    } finally {\n      loadingInstance.close();\n    }\n  });\n</script>\n\n<style scoped>\n  .top {\n    background-color: #0b2e52;\n    color: white;\n    height: 60px;\n    display: flex;\n    align-items: center;\n    padding: 0 20px;\n    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.15);\n    z-index: 10;\n    \n    .header-container {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      \n      .logo {\n        display: flex;\n        align-items: center;\n        font-size: 20px;\n        font-weight: bold;\n        \n        img {\n          height: 32px;\n          margin-right: 10px;\n        }\n      }\n      \n      .user-info {\n        display: flex;\n        align-items: center;\n        \n        .el-dropdown-link {\n          display: flex;\n          align-items: center;\n          cursor: pointer;\n          \n          .username {\n            margin-left: 8px;\n            font-size: 14px;\n          }\n        }\n      }\n    }\n  }\n  \n  .left {\n    background-color: #fff;\n    height: calc(100vh - 60px);\n    border-right: 1px solid #e6e6e6;\n    box-shadow: 2px 0 8px rgba(0, 0, 0, 0.08);\n    z-index: 5;\n    \n    .menu-header {\n      padding: 15px 20px;\n      border-bottom: 1px solid #f0f0f0;\n      \n      h3 {\n        margin: 0;\n        font-size: 16px;\n        color: #333;\n      }\n    }\n    \n    .el-menu {\n      border-right: none;\n      padding: 10px 0;\n      \n      .el-icon {\n        margin-right: 8px;\n        font-size: 18px;\n      }\n    }\n    \n    .el-menu-item.is-active {\n      color: #1577d3;\n      background-color: #ecf5ff;\n      font-weight: 500;\n    }\n  }\n  \n  .right {\n    background-color: #f5f7fa;\n    padding: 20px;\n    min-height: calc(100vh - 60px);\n    \n    .breadcrumb {\n      margin-bottom: 20px;\n      padding: 8px 16px;\n      background: #fff;\n      border-radius: 4px;\n      box-shadow: 0 1px 4px rgba(0, 0, 0, 0.05);\n    }\n    \n    .content-card {\n      min-height: calc(100vh - 140px);\n      border-radius: 8px;\n      box-shadow: 0 4px 12px 0 rgba(0, 0, 0, 0.08);\n      border: none;\n    }\n  }\n\n  /* 组件切换动画 */\n  .fade-enter-active,\n  .fade-leave-active {\n    transition: all 0.3s cubic-bezier(0.55, 0, 0.1, 1);\n  }\n  \n  .fade-enter-from {\n    opacity: 0;\n    transform: translateX(30px);\n  }\n  \n  .fade-leave-to {\n    opacity: 0;\n    transform: translateX(-30px);\n  }\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .el-aside {\n    width: 180px !important;\n  }\n  \n  .el-menu-vertical-demo:not(.el-menu--collapse) {\n    width: 180px;\n  }\n  \n  .top {\n    font-size: 16px;\n    padding: 0 10px;\n  }\n  \n  .right {\n    padding: 10px;\n  }\n}\n\n</style>"],"mappings":"AA0EE,OAAOA,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,aAAa,MAAM,2BAA2B;AACrD,SAAQC,SAAS,EAAEC,GAAG,QAAO,KAAK;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,SAAS,QAAQ,cAAc;;AAEnD;;;;;;;;IACA,MAAMC,KAAK,GAAG,CAACV,WAAW,EAAEC,YAAY,GAAEG,aAAa,EAAEF,SAAS,IAAIC,UAAU,CAAC;IACjF;IACA,MAAMQ,gBAAgB,GAAGL,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC;IACtC;IACA,MAAME,KAAK,GAAGN,GAAG,CAAC,EAAE,CAAC;IACrB;IACA,MAAMO,OAAO,GAAGP,GAAG,CAAC,KAAK,CAAC;;IAE1B;IACA,MAAMQ,aAAa,GAAG,MAAOC,EAAE,IAAK;MAClCF,OAAO,CAACG,KAAK,GAAG,IAAI;MACpB,IAAI;QACF,MAAM;UAAEC;QAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,qCAAqC,GAAGH,EAAE,CAAC;QAC5EJ,gBAAgB,CAACK,KAAK,GAAGN,KAAK,CAACO,IAAI,CAAC;MACtC,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdX,SAAS,CAACW,KAAK,CAAC,UAAU,GAAGA,KAAK,CAACC,OAAO,CAAC;QAC3CC,OAAO,CAACF,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC,CAAC,SAAS;QACRN,OAAO,CAACG,KAAK,GAAG,KAAK;MACvB;IACF,CAAC;;IAED;IACAX,SAAS,CAAC,YAAY;MACpB,MAAMiB,eAAe,GAAGb,SAAS,CAACc,OAAO,CAAC;QACxCC,IAAI,EAAE,IAAI;QACVC,IAAI,EAAE,UAAU;QAChBC,UAAU,EAAE;MACd,CAAC,CAAC;MAEF,IAAI;QACF,MAAM;UAAET;QAAK,CAAC,GAAG,MAAMV,KAAK,CAACW,GAAG,CAAC,iCAAiC,CAAC;QACnEN,KAAK,CAACI,KAAK,GAAGC,IAAI;MACpB,CAAC,CAAC,OAAOE,KAAK,EAAE;QACdX,SAAS,CAACW,KAAK,CAAC,UAAU,GAAGA,KAAK,CAACC,OAAO,CAAC;QAC3CC,OAAO,CAACF,KAAK,CAAC,SAAS,EAAEA,KAAK,CAAC;MACjC,CAAC,SAAS;QACRG,eAAe,CAACK,KAAK,CAAC,CAAC;MACzB;IACF,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}