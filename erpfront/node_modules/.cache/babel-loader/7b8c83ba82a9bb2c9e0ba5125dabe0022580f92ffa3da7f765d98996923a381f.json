{"ast":null,"code":"import AddCustomer from \"@/views/AddCustomer\";\nimport ListCustomer from \"@/views/ListCustomer\";\nimport AddSellJiHui from \"@/views/AddSellJiHui\";\nimport ListSellJh from \"@/views/ListSellJh\";\nimport ListCustOrder from \"@/views/ListCustOrder.vue\";\nimport ListAfterSales from \"@/views/ListAfterSales.vue\";\nimport AddMenus from \"@/views/AddMenus.vue\";\nimport RoleManager from \"@/views/RoleManager.vue\";\nimport UserManager from \"@/views/UserManager.vue\";\nimport CategroryManager from \"@/views/CategroryManager.vue\";\nimport test from \"@/views/test.vue\";\nimport { onMounted, ref } from \"vue\";\nimport axios from 'axios';\nimport ListAfterSalesVue from \"./ListAfterSales.vue\";\n\n// 声明当前激活的菜单id（新增）\n\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const currentActive = ref('');\n    // 声明数组保存所有组件\n    const views = [AddCustomer, ListCustomer, ListAfterSalesVue, ListCustOrder, AddSellJiHui,,, ListSellJh, AddMenus, UserManager, RoleManager,, test, CategroryManager];\n    //声明变量保存当前需要显示的组件名\n    const currentComponent = ref(views[0]);\n    //声明菜单对象集合数据\n    const menus = ref([]);\n    /*menu组件选中叶子节点触发的函数，参数index：菜单节点的index值，对应数据库菜单节点的id*/\n    const handlerSelect = function (id) {\n      console.log(id);\n      //发生axiosax请求，加载组件下标\n      axios.get(\"http://localhost:8081/compIndex?id=\" + id).then(response => {\n        //动态该currentComponent赋值,从组件集合views中获取的组件名字\n        currentComponent.value = views[response.data];\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n    //页面加载，发生ajax请求加载左侧菜单信息\n    onMounted(function () {\n      axios.get(\"http://localhost:8081/listMenus\").then(response => {\n        console.log(response);\n        //将响应的数据绑定到menus，实现数据渲染\n        menus.value = response.data;\n        // 初始化默认激活菜单（新增）\n        if (menus.value.length > 0 && menus.value[0].subMenus?.length > 0) {\n          currentActive.value = String(menus.value[0].subMenus[0].id);\n        }\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n    const __returned__ = {\n      currentActive,\n      views,\n      currentComponent,\n      menus,\n      handlerSelect,\n      get AddCustomer() {\n        return AddCustomer;\n      },\n      get ListCustomer() {\n        return ListCustomer;\n      },\n      get AddSellJiHui() {\n        return AddSellJiHui;\n      },\n      get ListSellJh() {\n        return ListSellJh;\n      },\n      ListCustOrder,\n      ListAfterSales,\n      AddMenus,\n      RoleManager,\n      UserManager,\n      CategroryManager,\n      test,\n      onMounted,\n      ref,\n      get axios() {\n        return axios;\n      },\n      ListAfterSalesVue\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["AddCustomer","ListCustomer","AddSellJiHui","ListSellJh","ListCustOrder","ListAfterSales","AddMenus","RoleManager","UserManager","CategroryManager","test","onMounted","ref","axios","ListAfterSalesVue","currentActive","views","currentComponent","menus","handlerSelect","id","console","log","get","then","response","value","data","catch","error","length","subMenus","String"],"sources":["D:/Program/Java QP/Erp/erpfront/src/views/index.vue"],"sourcesContent":["<template>\n  <!-- 后台主页布局 -->\n  <div class=\"common-layout\">\n    <el-container>\n      <!-- 头部使用 Element Plus 默认样式 -->\n      <el-header class=\"el-header\">ERP-七个瑞士卷小组</el-header>\n      <el-container>\n        <!-- 侧边栏使用 Element Plus 推荐宽度和样式 -->\n        <el-aside width=\"240px\" class=\"el-aside\">\n          <h3 class=\"menu-title\">系统菜单</h3>\n          <!-- 补充 Element Plus 菜单必要属性 -->\n          <el-menu\n            class=\"el-menu-vertical-demo\"\n            @select=\"handlerSelect\"\n            :default-active=\"currentActive\"\n            background-color=\"#545c64\"\n            text-color=\"#fff\"\n            active-text-color=\"#ffd04b\"\n          >\n            <el-sub-menu v-for=\"menu in menus\" :index=\"String(menu.id)\">\n              <template #title>\n                <span>{{ menu.label }}</span>\n              </template>\n              <el-menu-item v-for=\"subMenu in menu.subMenus\"  :index=\"String(subMenu.id)\">\n                {{subMenu.label}}\n              </el-menu-item>\n            </el-sub-menu>\n          </el-menu>\n\n        </el-aside>\n        <!-- 主内容区域使用 Element Plus 默认填充 -->\n        <el-main class=\"el-main\">\n          <!-- 添加Material卡片容器 -->\n          <div class=\"content-card\">\n            <component :is=\"currentComponent\"></component>\n          </div>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script setup>\nimport AddCustomer from \"@/views/AddCustomer\";\n  import ListCustomer from \"@/views/ListCustomer\";\n  import AddSellJiHui from \"@/views/AddSellJiHui\";\n  import ListSellJh from \"@/views/ListSellJh\";\n  import ListCustOrder from \"@/views/ListCustOrder.vue\";\n  import ListAfterSales from\"@/views/ListAfterSales.vue\"\n  import AddMenus from \"@/views/AddMenus.vue\";\n  import RoleManager from \"@/views/RoleManager.vue\";\n  import UserManager from \"@/views/UserManager.vue\";\n  import CategroryManager from \"@/views/CategroryManager.vue\";\n  import test from \"@/views/test.vue\"\n  import {onMounted, ref} from \"vue\";\n  import axios from 'axios';\nimport ListAfterSalesVue from \"./ListAfterSales.vue\";\n\n  // 声明当前激活的菜单id（新增）\n  const currentActive = ref('');\n  // 声明数组保存所有组件\n  const views=[AddCustomer,ListCustomer,ListAfterSalesVue,ListCustOrder,AddSellJiHui,,,ListSellJh,AddMenus,UserManager,RoleManager,,test,CategroryManager]\n  //声明变量保存当前需要显示的组件名\n  const currentComponent=ref(views[0]);\n  //声明菜单对象集合数据\n  const menus=ref([]);\n  /*menu组件选中叶子节点触发的函数，参数index：菜单节点的index值，对应数据库菜单节点的id*/\n  const  handlerSelect=function(id){\n    console.log(id);\n    //发生axiosax请求，加载组件下标\n    axios.get(\"http://localhost:8081/compIndex?id=\"+id)\n    .then((response)=>{\n      //动态该currentComponent赋值,从组件集合views中获取的组件名字\n      currentComponent.value=views[response.data];\n    })\n    .catch((error)=>{\n          console.log(error);\n    });\n\n  }\n  //页面加载，发生ajax请求加载左侧菜单信息\n  onMounted(function(){\n    axios.get(\"http://localhost:8081/listMenus\")\n    .then((response)=>{\n      console.log(response);\n      //将响应的数据绑定到menus，实现数据渲染\n      menus.value=response.data;\n      // 初始化默认激活菜单（新增）\n      if(menus.value.length > 0 && menus.value[0].subMenus?.length > 0) {\n        currentActive.value = String(menus.value[0].subMenus[0].id);\n      }\n    })\n    .catch((error)=>{\n      console.log(error);\n    });\n  });\n</script>\n\n<style scoped>\n.el-header {\n  background-color: #1976d2; /* Material Design 主色（深蓝） */\n  color: #ffffff;\n  text-align: left; /* 左对齐更符合Material规范 */\n  padding: 0 24px; /* 左右内边距24px，垂直居中 */\n  font-size: 20px;\n  line-height: 64px; /* 高度64px（Material顶部栏标准高度） */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); /* 添加底部阴影 */\n}\n\n.el-aside {\n  padding: 0;\n  background-color: #ffffff; /* 侧边栏改为白色背景 */\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08); /* 右侧阴影增强层次感 */\n  height: 100vh;\n}\n\n.menu-title {\n  color: #212121; /* 深灰色标题 */\n  font-size: 16px;\n  padding: 24px 24px 16px; /* 调整内边距 */\n  border-bottom: 1px solid #eeeeee; /* 浅灰色分割线 */\n}\n/* 覆盖 Element Plus 侧边栏内边距（优化高度自适应） */\n.el-aside {\n  padding: 0;\n  background-color: #545c64; /* 与菜单背景色保持一致 */\n  height: 100vh; /* 改为视口高度百分比 */\n}\n\n/* 主内容区域原版内边距 */\n/* 主内容区域优化 */\n.el-main {\n  padding: 24px; /* 主区域内边距24px */\n  background-color: #f5f5f5; /* 浅灰色背景 */\n  min-height: calc(100vh - 64px); /* 顶部栏64px */\n}\n\n.content-card {\n  background-color: #ffffff; /* 卡片白色背景 */\n  border-radius: 8px; /* 卡片圆角 */\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.08); /* 卡片阴影 */\n  padding: 24px; /* 卡片内边距 */\n  min-height: calc(100% - 48px); /* 适应主区域内边距 */\n}\n</style>"],"mappings":"AA2CA,OAAOA,WAAW,MAAM,qBAAqB;AAC3C,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,OAAOC,aAAa,MAAM,2BAA2B;AACrD,OAAOC,cAAc,MAAK,4BAA2B;AACrD,OAAOC,QAAQ,MAAM,sBAAsB;AAC3C,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,WAAW,MAAM,yBAAyB;AACjD,OAAOC,gBAAgB,MAAM,8BAA8B;AAC3D,OAAOC,IAAI,MAAM,kBAAiB;AAClC,SAAQC,SAAS,EAAEC,GAAG,QAAO,KAAK;AAClC,OAAOC,KAAK,MAAM,OAAO;AAC3B,OAAOC,iBAAiB,MAAM,sBAAsB;;AAElD;;;;;;;;IACA,MAAMC,aAAa,GAAGH,GAAG,CAAC,EAAE,CAAC;IAC7B;IACA,MAAMI,KAAK,GAAC,CAAChB,WAAW,EAACC,YAAY,EAACa,iBAAiB,EAACV,aAAa,EAACF,YAAY,IAAGC,UAAU,EAACG,QAAQ,EAACE,WAAW,EAACD,WAAW,GAAEG,IAAI,EAACD,gBAAgB;IACvJ;IACA,MAAMQ,gBAAgB,GAACL,GAAG,CAACI,KAAK,CAAC,CAAC,CAAC,CAAC;IACpC;IACA,MAAME,KAAK,GAACN,GAAG,CAAC,EAAE,CAAC;IACnB;IACA,MAAOO,aAAa,GAAC,SAAAA,CAASC,EAAE,EAAC;MAC/BC,OAAO,CAACC,GAAG,CAACF,EAAE,CAAC;MACf;MACAP,KAAK,CAACU,GAAG,CAAC,qCAAqC,GAACH,EAAE,EACjDI,IAAI,CAAEC,QAAQ,IAAG;QAChB;QACAR,gBAAgB,CAACS,KAAK,GAACV,KAAK,CAACS,QAAQ,CAACE,IAAI,CAAC;MAC7C,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAG;QACVR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;MACxB,CAAC,CAAC;IAEJ;IACA;IACAlB,SAAS,CAAC,YAAU;MAClBE,KAAK,CAACU,GAAG,CAAC,iCAAiC,EAC1CC,IAAI,CAAEC,QAAQ,IAAG;QAChBJ,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;QACrB;QACAP,KAAK,CAACQ,KAAK,GAACD,QAAQ,CAACE,IAAI;QACzB;QACA,IAAGT,KAAK,CAACQ,KAAK,CAACI,MAAM,GAAG,CAAC,IAAIZ,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAC,CAACK,QAAQ,EAAED,MAAM,GAAG,CAAC,EAAE;UAChEf,aAAa,CAACW,KAAK,GAAGM,MAAM,CAACd,KAAK,CAACQ,KAAK,CAAC,CAAC,CAAC,CAACK,QAAQ,CAAC,CAAC,CAAC,CAACX,EAAE,CAAC;QAC7D;MACF,CAAC,EACAQ,KAAK,CAAEC,KAAK,IAAG;QACdR,OAAO,CAACC,GAAG,CAACO,KAAK,CAAC;MACpB,CAAC,CAAC;IACJ,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}