{"ast":null,"code":"import AddCustomer from \"@/views/AddCustomer\";\nimport ListCustomer from \"@/views/ListCustomer\";\nimport { onMounted, ref } from \"vue\";\nimport axios from \"axios\";\n\n// 声明数组保存所有组件\n\nexport default {\n  __name: 'index',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const views = [AddCustomer, ListCustomer];\n    // 声明变量保存当前需要显示的组件\n    const currentComponent = ref(views[0]);\n    // 声明菜单数据\n    const menus = ref([]);\n    // 声明当前激活的菜单\n    const activeMenu = ref(\"1\");\n\n    /* menu组件选中叶子节点触发的函数 */\n    const handlerSelect = function (id) {\n      activeMenu.value = id;\n      // 发送ajax请求，加载组件下标\n      axios.get(\"http://localhost:8081/compIndex?id=\" + id).then(response => {\n        // 动态更新currentComponent\n        currentComponent.value = views[response.data];\n      }).catch(error => {\n        console.log(error);\n      });\n    };\n\n    // 页面加载时请求左侧菜单信息\n    onMounted(() => {\n      axios.get(\"http://localhost:8081/listMenus\").then(response => {\n        menus.value = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    });\n    const __returned__ = {\n      views,\n      currentComponent,\n      menus,\n      activeMenu,\n      handlerSelect,\n      get AddCustomer() {\n        return AddCustomer;\n      },\n      get ListCustomer() {\n        return ListCustomer;\n      },\n      onMounted,\n      ref,\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["AddCustomer","ListCustomer","onMounted","ref","axios","views","currentComponent","menus","activeMenu","handlerSelect","id","value","get","then","response","data","catch","error","console","log"],"sources":["D:/Program/Web QP/vue/erpfront/src/views/index.vue"],"sourcesContent":["<template>\n  <!-- 后台主页布局 -->\n  <div class=\"common-layout\">\n    <el-container>\n      <el-header class=\"top\">\n        <div class=\"top-content\">\n          <div class=\"logo\">\n            <span class=\"logo-icon\">ERP</span>\n            <span class=\"logo-text\">系统</span>\n          </div>\n        </div>\n      </el-header>\n      <el-container>\n        <el-aside width=\"240px\" class=\"left\">\n          <el-menu\n            class=\"el-menu-vertical-demo\"\n            @select=\"handlerSelect\"\n            router\n            :default-active=\"activeMenu\"\n            background-color=\"#1e293b\"\n            text-color=\"#cbd5e1\"\n            active-text-color=\"#3b82f6\"\n          >\n            <el-sub-menu v-for=\"menu in menus\" :key=\"menu.id\" :index=\"String(menu.id)\">\n              <template #title>\n                <el-icon><component :is=\"menu.icon || 'el-icon-menu'\" /></el-icon>\n                <span>{{ menu.label }}</span>\n              </template>\n              <el-menu-item v-for=\"subMenu in menu.subMenus\" :key=\"subMenu.id\" :index=\"String(subMenu.id)\">\n                <el-icon><component :is=\"subMenu.icon || 'el-icon-document'\" /></el-icon>\n                <span>{{ subMenu.label }}</span>\n              </el-menu-item>\n            </el-sub-menu>\n          </el-menu>\n        </el-aside>\n        <el-main class=\"right\">\n          <div class=\"page-container\">\n            <transition name=\"fade\" mode=\"out-in\">\n              <component :is=\"currentComponent\" />\n            </transition>\n          </div>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n<script setup>\nimport AddCustomer from \"@/views/AddCustomer\";\nimport ListCustomer from \"@/views/ListCustomer\";\nimport { onMounted, ref } from \"vue\";\nimport axios from \"axios\";\n\n// 声明数组保存所有组件\nconst views = [AddCustomer, ListCustomer];\n// 声明变量保存当前需要显示的组件\nconst currentComponent = ref(views[0]);\n// 声明菜单数据\nconst menus = ref([]);\n// 声明当前激活的菜单\nconst activeMenu = ref(\"1\");\n\n/* menu组件选中叶子节点触发的函数 */\nconst handlerSelect = function (id) {\n  activeMenu.value = id;\n  // 发送ajax请求，加载组件下标\n  axios\n    .get(\"http://localhost:8081/compIndex?id=\" + id)\n    .then((response) => {\n      // 动态更新currentComponent\n      currentComponent.value = views[response.data];\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n};\n\n// 页面加载时请求左侧菜单信息\nonMounted(() => {\n  axios\n    .get(\"http://localhost:8081/listMenus\")\n    .then((response) => {\n      menus.value = response.data;\n    })\n    .catch((error) => {\n      console.log(error);\n    });\n});\n</script>\n\n<style scoped>\n:root {\n  --primary-color: #3b82f6; /* 主色调-蓝色 */\n  --sidebar-bg: #1e293b; /* 侧边栏背景色 */\n  --sidebar-text: #cbd5e1; /* 侧边栏文本色 */\n  --sidebar-active: #3b82f6; /* 侧边栏激活状态色 */\n  --content-bg: #f8fafc; /* 内容区背景色 */\n  --card-bg: #ffffff; /* 卡片背景色 */\n  --border-color: #e2e8f0; /* 边框颜色 */\n  --text-color: #334155; /* 文本颜色 */\n}\n\n.common-layout {\n  height: 100vh;\n  overflow: hidden;\n}\n\n.top {\n  background-color: var(--primary-color);\n  padding: 0 20px;\n  height: 60px !important;\n  display: flex;\n  align-items: center;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n.top-content {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  color: white;\n  font-weight: 600;\n}\n\n.logo-icon {\n  background-color: rgba(255, 255, 255, 0.2);\n  padding: 5px 10px;\n  border-radius: 4px;\n  font-size: 16px;\n}\n\n.left {\n  background-color: var(--sidebar-bg);\n  height: calc(100vh - 60px);\n  overflow-y: auto;\n}\n\n.right {\n  background-color: var(--content-bg);\n  padding: 20px;\n  height: calc(100vh - 60px);\n  overflow-y: auto;\n}\n\n.page-container {\n  max-width: 1440px;\n  margin: 0 auto;\n  padding: 20px;\n  background-color: var(--card-bg);\n  border-radius: 8px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n}\n\n/* 组件切换动画 */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* 菜单样式优化 */\n.el-menu-vertical-demo:not(.el-menu--collapse) {\n  width: 240px;\n}\n\n.el-menu-item,\n.el-sub-menu__title {\n  transition: all 0.2s ease;\n}\n\n.el-menu-item:hover,\n.el-sub-menu__title:hover {\n  background-color: rgba(255, 255, 255, 0.05) !important;\n}\n\n.el-menu-item.is-active {\n  background-color: rgba(59, 130, 246, 0.1) !important;\n  border-right: 3px solid var(--sidebar-active);\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .el-aside {\n    width: 64px !important;\n  }\n  \n  .el-menu-vertical-demo.el-menu--collapse {\n    width: 64px;\n  }\n  \n  .el-sub-menu__title span,\n  .el-menu-item span {\n    display: none;\n  }\n  \n  .top {\n    font-size: 16px;\n    padding: 0 10px;\n  }\n  \n  .right {\n    padding: 10px;\n  }\n  \n  .page-container {\n    padding: 15px;\n  }\n}\n</style>"],"mappings":"AAgDA,OAAOA,WAAW,MAAM,qBAAqB;AAC7C,OAAOC,YAAY,MAAM,sBAAsB;AAC/C,SAASC,SAAS,EAAEC,GAAG,QAAQ,KAAK;AACpC,OAAOC,KAAK,MAAM,OAAO;;AAEzB;;;;;;;;IACA,MAAMC,KAAK,GAAG,CAACL,WAAW,EAAEC,YAAY,CAAC;IACzC;IACA,MAAMK,gBAAgB,GAAGH,GAAG,CAACE,KAAK,CAAC,CAAC,CAAC,CAAC;IACtC;IACA,MAAME,KAAK,GAAGJ,GAAG,CAAC,EAAE,CAAC;IACrB;IACA,MAAMK,UAAU,GAAGL,GAAG,CAAC,GAAG,CAAC;;IAE3B;IACA,MAAMM,aAAa,GAAG,SAAAA,CAAUC,EAAE,EAAE;MAClCF,UAAU,CAACG,KAAK,GAAGD,EAAE;MACrB;MACAN,KAAI,CACDQ,GAAG,CAAC,qCAAqC,GAAGF,EAAE,EAC9CG,IAAI,CAAEC,QAAQ,IAAK;QAClB;QACAR,gBAAgB,CAACK,KAAK,GAAGN,KAAK,CAACS,QAAQ,CAACC,IAAI,CAAC;MAC/C,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC;;IAED;IACAf,SAAS,CAAC,MAAM;MACdE,KAAI,CACDQ,GAAG,CAAC,iCAAiC,EACrCC,IAAI,CAAEC,QAAQ,IAAK;QAClBP,KAAK,CAACI,KAAK,GAAGG,QAAQ,CAACC,IAAI;MAC7B,CAAC,EACAC,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;MACpB,CAAC,CAAC;IACN,CAAC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}