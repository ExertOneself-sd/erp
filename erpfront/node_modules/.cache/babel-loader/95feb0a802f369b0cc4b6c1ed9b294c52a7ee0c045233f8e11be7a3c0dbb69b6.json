{"ast":null,"code":"import { reactive, ref } from 'vue';\nimport { Plus, Delete, ZoomIn } from '@element-plus/icons-vue';\nimport axios from 'axios';\nexport default {\n  __name: 'ItemManager',\n  setup(__props, {\n    expose: __expose\n  }) {\n    __expose();\n    const dialogItemVisible = ref(false);\n    const itemForm = reactive({\n      id: 0\n    });\n    const dialogStyle = {\n      width: '500px',\n      // 设置固定宽度\n      margin: 'auto',\n      position: 'absolute',\n      top: '50%',\n      left: '50%',\n      transform: 'translate(-50%, -50%)' // 居中定位\n    };\n    function openItemDialog() {\n      dialogItemVisible.value = true;\n      loadSupplyList();\n      loadPlaceList();\n      loadStoreList();\n      loadBrandList();\n      loadUnitList();\n    }\n    const dialogImageUrl = ref(null);\n    const dialogVisible = ref(false);\n    function handlePictureCardPreview(file) {\n      console.log(\"============\" + file);\n      dialogImageUrl.value = file.url;\n      dialogVisible.value = true;\n    }\n    function handlAvatarSuccess(path) {\n      console.log(path);\n    }\n    const supplyList = ref([]);\n    const placeList = ref([]);\n    const storeList = ref([]);\n    const brandList = ref([]);\n    const unitList = ref([]);\n    function loadSupplyList() {\n      axios.get(\"http://localhost:8081/supplyList\").then(response => {\n        supplyList.value = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    function loadPlaceList() {\n      axios.get(\"http://localhost:8081/placeList\").then(response => {\n        placeList.value = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    function loadStoreList() {\n      axios.get(\"http://localhost:8081/storeList\").then(response => {\n        storeList.value = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    function loadBrandList() {\n      axios.get(\"http://localhost:8081/brandList\").then(response => {\n        brandList.value = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    function loadUnitList() {\n      axios.get(\"http://localhost:8081/unitList\").then(response => {\n        unitList.value = response.data;\n      }).catch(error => {\n        console.log(error);\n      });\n    }\n    const __returned__ = {\n      dialogItemVisible,\n      itemForm,\n      dialogStyle,\n      openItemDialog,\n      dialogImageUrl,\n      dialogVisible,\n      handlePictureCardPreview,\n      handlAvatarSuccess,\n      supplyList,\n      placeList,\n      storeList,\n      brandList,\n      unitList,\n      loadSupplyList,\n      loadPlaceList,\n      loadStoreList,\n      loadBrandList,\n      loadUnitList,\n      reactive,\n      ref,\n      get Plus() {\n        return Plus;\n      },\n      get Delete() {\n        return Delete;\n      },\n      get ZoomIn() {\n        return ZoomIn;\n      },\n      get axios() {\n        return axios;\n      }\n    };\n    Object.defineProperty(__returned__, '__isScriptSetup', {\n      enumerable: false,\n      value: true\n    });\n    return __returned__;\n  }\n};","map":{"version":3,"names":["reactive","ref","Plus","Delete","ZoomIn","axios","dialogItemVisible","itemForm","id","dialogStyle","width","margin","position","top","left","transform","openItemDialog","value","loadSupplyList","loadPlaceList","loadStoreList","loadBrandList","loadUnitList","dialogImageUrl","dialogVisible","handlePictureCardPreview","file","console","log","url","handlAvatarSuccess","path","supplyList","placeList","storeList","brandList","unitList","get","then","response","data","catch","error"],"sources":["D:/Program/Java QP/Erp/erpfront/src/views/ItemManager.vue"],"sourcesContent":["<template>\r\n  <h2>商品信息</h2>\r\n\r\n  <div style=\"text-align: left\">\r\n    <el-button type=\"primary\" @click=\"openItemDialog\">添加商品</el-button>\r\n  </div>\r\n\r\n  <el-dialog v-model=\"dialogItemVisible\" :style=\"dialogStyle\">\r\n    <div style=\"text-align: left\">\r\n      商品图片:<!--  上传商品图片控件  -->\r\n      <el-upload action=\"http://localhost:8081/uploadImg\" list-type=\"picture-card\" :auto-upload=\"true\" method=\"post\" :on-success=\"handlAvatarSuccess\">\r\n        <el-icon>\r\n          <Plus/>\r\n        </el-icon>\r\n\r\n        <template #file=\"{ file }\">\r\n          <div>\r\n            <img class=\"el-upload-list__item-thumbnail\" :src=\"file.url\" alt=\"\"/>\r\n            <span class=\"el-upload-list__item-actions\">\r\n              <span class=\"el-upload-list__item-preview\" @click=\"handlePictureCardPreview(file)\">\r\n                <el-icon><zoom-in/></el-icon>\r\n              </span>\r\n            </span>\r\n          </div>\r\n        </template>\r\n      </el-upload>\r\n    </div>\r\n\r\n    <el-form :model=\"itemForm\" label-width=\"100px\" style=\"max-width: 800px; margin-top: 20px;\">\r\n      <!-- 表单内容保持不变 -->\r\n    </el-form>\r\n  </el-dialog>\r\n\r\n  <el-dialog v-model=\"dialogVisible\">\r\n    <img w-full :src=\"dialogImageUrl\" alt=\"Preview Image\" style=\"width: 100%\" />\r\n  </el-dialog>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive, ref } from 'vue'\r\nimport { Plus, Delete, ZoomIn } from '@element-plus/icons-vue'\r\nimport axios from 'axios'\r\n\r\nconst dialogItemVisible = ref(false)\r\nconst itemForm = reactive({\r\n  id: 0\r\n})\r\n\r\nconst dialogStyle = {\r\n  width: '500px',  // 设置固定宽度\r\n  margin: 'auto',\r\n  position: 'absolute',\r\n  top: '50%',\r\n  left: '50%',\r\n  transform: 'translate(-50%, -50%)'  // 居中定位\r\n}\r\n\r\nfunction openItemDialog() {\r\n  dialogItemVisible.value = true\r\n  loadSupplyList()\r\n  loadPlaceList()\r\n  loadStoreList()\r\n  loadBrandList()\r\n  loadUnitList()\r\n}\r\n\r\nconst dialogImageUrl = ref(null)\r\nconst dialogVisible = ref(false)\r\n\r\nfunction handlePictureCardPreview(file) {\r\n  console.log(\"============\" + file)\r\n  dialogImageUrl.value = file.url\r\n  dialogVisible.value = true\r\n}\r\n\r\nfunction handlAvatarSuccess(path) {\r\n  console.log(path)\r\n}\r\n\r\nconst supplyList = ref([])\r\nconst placeList = ref([])\r\nconst storeList = ref([])\r\nconst brandList = ref([])\r\nconst unitList = ref([])\r\n\r\nfunction loadSupplyList() {\r\n  axios.get(\"http://localhost:8081/supplyList\")\r\n    .then((response) => {\r\n      supplyList.value = response.data\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n}\r\n\r\nfunction loadPlaceList() {\r\n  axios.get(\"http://localhost:8081/placeList\")\r\n    .then((response) => {\r\n      placeList.value = response.data\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n}\r\n\r\nfunction loadStoreList() {\r\n  axios.get(\"http://localhost:8081/storeList\")\r\n    .then((response) => {\r\n      storeList.value = response.data\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n}\r\n\r\nfunction loadBrandList() {\r\n  axios.get(\"http://localhost:8081/brandList\")\r\n    .then((response) => {\r\n      brandList.value = response.data\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n}\r\n\r\nfunction loadUnitList() {\r\n  axios.get(\"http://localhost:8081/unitList\")\r\n    .then((response) => {\r\n      unitList.value = response.data\r\n    })\r\n    .catch((error) => {\r\n      console.log(error)\r\n    })\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}