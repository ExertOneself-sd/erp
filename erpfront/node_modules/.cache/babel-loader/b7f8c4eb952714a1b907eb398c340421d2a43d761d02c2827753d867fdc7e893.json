{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDynamicComponent as _resolveDynamicComponent, createBlock as _createBlock, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, Transition as _Transition, resolveDirective as _resolveDirective, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"common-layout\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_el_header = _resolveComponent(\"el-header\");\n  const _component_el_icon = _resolveComponent(\"el-icon\");\n  const _component_el_menu_item = _resolveComponent(\"el-menu-item\");\n  const _component_el_sub_menu = _resolveComponent(\"el-sub-menu\");\n  const _component_el_menu = _resolveComponent(\"el-menu\");\n  const _component_el_aside = _resolveComponent(\"el-aside\");\n  const _component_el_card = _resolveComponent(\"el-card\");\n  const _component_el_main = _resolveComponent(\"el-main\");\n  const _component_el_container = _resolveComponent(\"el-container\");\n  const _directive_loading = _resolveDirective(\"loading\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_createCommentVNode(\" 后台主页布局 \"), _createElementVNode(\"div\", _hoisted_1, [_createVNode(_component_el_container, null, {\n    default: _withCtx(() => [_createVNode(_component_el_header, {\n      class: \"top\"\n    }, {\n      default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"ERP系统\")])),\n      _: 1 /* STABLE */\n    }), _createVNode(_component_el_container, null, {\n      default: _withCtx(() => [_createVNode(_component_el_aside, {\n        width: \"240px\",\n        class: \"left\"\n      }, {\n        default: _withCtx(() => [_cache[1] || (_cache[1] = _createTextVNode(\" 系统菜单 \")), _createCommentVNode(\"添加Menu菜单组件\"), _createVNode(_component_el_menu, {\n          class: \"el-menu-vertical-demo\",\n          onSelect: $setup.handlerSelect\n        }, {\n          default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($setup.menus, menu => {\n            return _openBlock(), _createBlock(_component_el_sub_menu, {\n              index: String(menu.id)\n            }, {\n              title: _withCtx(() => [_createVNode(_component_el_icon, null, {\n                default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(menu.icon || 'el-icon-menu')))]),\n                _: 2 /* DYNAMIC */\n              }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(menu.label), 1 /* TEXT */)]),\n              default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(menu.subMenus, subMenu => {\n                return _openBlock(), _createBlock(_component_el_menu_item, {\n                  index: String(subMenu.id)\n                }, {\n                  default: _withCtx(() => [_createVNode(_component_el_icon, null, {\n                    default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent(subMenu.icon || 'el-icon-document')))]),\n                    _: 2 /* DYNAMIC */\n                  }, 1024 /* DYNAMIC_SLOTS */), _createElementVNode(\"span\", null, _toDisplayString(subMenu.label), 1 /* TEXT */)]),\n                  _: 2 /* DYNAMIC */\n                }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"]);\n              }), 256 /* UNKEYED_FRAGMENT */))]),\n              _: 2 /* DYNAMIC */\n            }, 1032 /* PROPS, DYNAMIC_SLOTS */, [\"index\"]);\n          }), 256 /* UNKEYED_FRAGMENT */))]),\n          _: 1 /* STABLE */\n        })]),\n        _: 1 /* STABLE */\n      }), _createVNode(_component_el_main, {\n        class: \"right\"\n      }, {\n        default: _withCtx(() => [_createCommentVNode(\"通过点击左边菜单，动态显示不同组件 \"), _createCommentVNode(\"           <component :is=\\\"currentComponent\\\"></component>\"), _withDirectives((_openBlock(), _createBlock(_component_el_card, {\n          \"element-loading-text\": \"正在加载组件...\"\n        }, {\n          default: _withCtx(() => [_createVNode(_Transition, {\n            name: \"fade\",\n            mode: \"out-in\"\n          }, {\n            default: _withCtx(() => [(_openBlock(), _createBlock(_resolveDynamicComponent($setup.currentComponent)))]),\n            _: 1 /* STABLE */\n          })]),\n          _: 1 /* STABLE */\n        })), [[_directive_loading, $setup.loading]])]),\n        _: 1 /* STABLE */\n      })]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  })])], 2112 /* STABLE_FRAGMENT, DEV_ROOT_FRAGMENT */);\n}","map":{"version":3,"names":["class","_createElementBlock","_Fragment","_createCommentVNode","_createElementVNode","_hoisted_1","_createVNode","_component_el_container","default","_withCtx","_component_el_header","_cache","_createTextVNode","_","_component_el_aside","width","_component_el_menu","onSelect","$setup","handlerSelect","_renderList","menus","menu","_createBlock","_component_el_sub_menu","index","String","id","title","_component_el_icon","_resolveDynamicComponent","icon","_toDisplayString","label","subMenus","subMenu","_component_el_menu_item","_component_el_main","_component_el_card","_Transition","name","mode","currentComponent","loading"],"sources":["D:\\Program\\Web QP\\vue\\erpfront\\src\\views\\index.vue"],"sourcesContent":["<template>\n  <!-- 后台主页布局 -->\n  <div class=\"common-layout\">\n    <el-container>\n      <el-header class=\"top\">ERP系统</el-header>\n      <el-container   >\n        <el-aside width=\"240px\" class=\"left\">\n          系统菜单\n\n          <!--添加Menu菜单组件-->\n          <el-menu\n              class=\"el-menu-vertical-demo\" @select=\"handlerSelect\" >\n            <el-sub-menu v-for=\"menu in menus\" :index=\"String(menu.id)\">\n              <template #title>\n                <el-icon><component :is=\"menu.icon || 'el-icon-menu'\" /></el-icon>\n                <span>{{ menu.label }}</span>\n              </template>\n              <el-menu-item v-for=\"subMenu in menu.subMenus\" :index=\"String(subMenu.id)\">\n                <el-icon><component :is=\"subMenu.icon || 'el-icon-document'\" /></el-icon>\n                <span>{{ subMenu.label }}</span>\n              </el-menu-item>\n            </el-sub-menu>\n\n          </el-menu>\n        </el-aside>\n        <el-main class=\"right\">\n            <!--通过点击左边菜单，动态显示不同组件 -->\n<!--           <component :is=\"currentComponent\"></component>-->\n          <el-card v-loading=\"loading\" element-loading-text=\"正在加载组件...\">\n            <transition name=\"fade\" mode=\"out-in\">\n              <component :is=\"currentComponent\"></component>\n            </transition>\n          </el-card>\n        </el-main>\n      </el-container>\n    </el-container>\n  </div>\n</template>\n\n\n<script setup>\nimport AddCustomer from \"@/views/AddCustomer\";\nimport ListCustomer from \"@/views/ListCustomer\";\nimport {onMounted, ref} from \"vue\";\nimport axios from 'axios';\nimport { ElLoading, ElMessage } from 'element-plus';\n\n// 声明数组保存所有组件\nconst views = [AddCustomer, ListCustomer];\n// 声明变量保存当前需要显示的组件名\nconst currentComponent = ref(views[0]);\n// 声明菜单对象集合数据\nconst menus = ref([]);\n// 加载状态\nconst loading = ref(false);\n\n/* menu组件选中叶子节点触发的函数 */\nconst handlerSelect = function(id) {\n  loading.value = true;\n  axios.get(\"http://localhost:8081/compIndex?id=\" + id)\n    .then((response) => {\n      currentComponent.value = views[response.data];\n    })\n    .catch((error) => {\n      ElMessage.error('加载组件失败: ' + error.message);\n    })\n    .finally(() => {\n      loading.value = false;\n    });\n}\n\n// 页面加载，发生ajax请求加载左侧菜单信息\nonMounted(() => {\n  const loadingInstance = ElLoading.service({\n    lock: true,\n    text: '加载中...',\n    background: 'rgba(0, 0, 0, 0.7)'\n  });\n  \n  axios.get(\"http://localhost:8081/listMenus\")\n    .then((response) => {\n      menus.value = response.data;\n    })\n    .catch((error) => {\n      ElMessage.error('加载菜单失败: ' + error.message);\n    })\n    .finally(() => {\n      loadingInstance.close();\n    });\n});\n</script>\n\n<style scoped>\n:root {\n  --primary-color: #2d3a4b;\n  --sidebar-bg: #304156;\n  --sidebar-text: #bfcbd9;\n  --content-bg: #f0f2f5;\n  --active-color: #1890ff;\n}\n\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n.common-layout {\n  height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.top {\n  background-color: #2d3a4b;\n  color: white;\n  padding: 0 20px;\n  display: flex;\n  align-items: center;\n  font-size: 18px;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.12);\n}\n\n.left {\n  background-color: #304156;\n  height: calc(100vh - 60px);\n  color: #bfcbd9;\n  transition: width 0.3s;\n}\n\n.right {\n  background-color: #f0f2f5;\n  padding: 20px;\n  min-height: calc(100vh - 60px);\n  overflow: auto;\n}\n\n.el-menu {\n  border-right: none;\n  background-color: transparent;\n}\n\n.el-menu-item, .el-sub-menu__title {\n  color: #bfcbd9;\n}\n\n.el-menu-item:hover, .el-sub-menu__title:hover {\n  background-color: #263445 !important;\n}\n\n.el-menu-item.is-active {\n  background-color: #1890ff !important;\n  color: white;\n}\n</style>"],"mappings":";;EAEOA,KAAK,EAAC;AAAe;;;;;;;;;;;;uBAF5BC,mBAAA,CAAAC,SAAA,SACEC,mBAAA,YAAe,EACfC,mBAAA,CAkCM,OAlCNC,UAkCM,GAjCJC,YAAA,CAgCeC,uBAAA;IAnCnBC,OAAA,EAAAC,QAAA,CAIM,MAAwC,CAAxCH,YAAA,CAAwCI,oBAAA;MAA7BV,KAAK,EAAC;IAAK;MAJ5BQ,OAAA,EAAAC,QAAA,CAI6B,MAAKE,MAAA,QAAAA,MAAA,OAJlCC,gBAAA,CAI6B,OAAK,E;MAJlCC,CAAA;QAKMP,YAAA,CA6BeC,uBAAA;MAlCrBC,OAAA,EAAAC,QAAA,CAMQ,MAkBW,CAlBXH,YAAA,CAkBWQ,mBAAA;QAlBDC,KAAK,EAAC,OAAO;QAACf,KAAK,EAAC;;QANtCQ,OAAA,EAAAC,QAAA,CAM6C,MAGnC,C,0BATVG,gBAAA,CAM6C,QAGnC,IAAAT,mBAAA,cAAiB,EACjBG,YAAA,CAaUU,kBAAA;UAZNhB,KAAK,EAAC,uBAAuB;UAAEiB,QAAM,EAAEC,MAAA,CAAAC;;UAXrDX,OAAA,EAAAC,QAAA,CAYyB,MAAqB,E,kBAAlCR,mBAAA,CAScC,SAAA,QArB1BkB,WAAA,CAYwCF,MAAA,CAAAG,KAAK,EAAbC,IAAI;iCAAxBC,YAAA,CAScC,sBAAA;cATsBC,KAAK,EAAEC,MAAM,CAACJ,IAAI,CAACK,EAAE;;cAC5CC,KAAK,EAAAnB,QAAA,CACd,MAAkE,CAAlEH,YAAA,CAAkEuB,kBAAA;gBAdlFrB,OAAA,EAAAC,QAAA,CAcyB,MAA+C,E,cAA/Cc,YAAA,CAA+CO,wBAdxE,CAcyCR,IAAI,CAACS,IAAI,sB;gBAdlDlB,CAAA;4CAegBT,mBAAA,CAA6B,cAAA4B,gBAAA,CAApBV,IAAI,CAACW,KAAK,iB;cAfnCzB,OAAA,EAAAC,QAAA,CAiB4B,MAAgC,E,kBAA9CR,mBAAA,CAGeC,SAAA,QApB7BkB,WAAA,CAiB8CE,IAAI,CAACY,QAAQ,EAAxBC,OAAO;qCAA5BZ,YAAA,CAGea,uBAAA;kBAHiCX,KAAK,EAAEC,MAAM,CAACS,OAAO,CAACR,EAAE;;kBAjBtFnB,OAAA,EAAAC,QAAA,CAkBgB,MAAyE,CAAzEH,YAAA,CAAyEuB,kBAAA;oBAlBzFrB,OAAA,EAAAC,QAAA,CAkByB,MAAsD,E,cAAtDc,YAAA,CAAsDO,wBAlB/E,CAkByCK,OAAO,CAACJ,IAAI,0B;oBAlBrDlB,CAAA;gDAmBgBT,mBAAA,CAAgC,cAAA4B,gBAAA,CAAvBG,OAAO,CAACF,KAAK,iB;kBAnBtCpB,CAAA;;;cAAAA,CAAA;;;UAAAA,CAAA;;QAAAA,CAAA;UAyBQP,YAAA,CAQU+B,kBAAA;QARDrC,KAAK,EAAC;MAAO;QAzB9BQ,OAAA,EAAAC,QAAA,CA0BY,MAAyB,CAAzBN,mBAAA,sBAAyB,EACrCA,mBAAA,+DAAgE,E,+BACtDoB,YAAA,CAIUe,kBAAA;UAJmB,sBAAoB,EAAC;QAAW;UA5BvE9B,OAAA,EAAAC,QAAA,CA6BY,MAEa,CAFbH,YAAA,CAEaiC,WAAA;YAFDC,IAAI,EAAC,MAAM;YAACC,IAAI,EAAC;;YA7BzCjC,OAAA,EAAAC,QAAA,CA8Bc,MAA8C,E,cAA9Cc,YAAA,CAA8CO,wBA9B5D,CA8B8BZ,MAAA,CAAAwB,gBAAgB,I;YA9B9C7B,CAAA;;UAAAA,CAAA;mCA4B8BK,MAAA,CAAAyB,OAAO,E;QA5BrC9B,CAAA;;MAAAA,CAAA;;IAAAA,CAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}