{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveComponent as _resolveComponent, createBlock as _createBlock, withCtx as _withCtx, createVNode as _createVNode } from \"vue\";\nexport function render(_ctx, _cache) {\n  const _component_el_option = _resolveComponent(\"el-option\");\n  const _component_el_select = _resolveComponent(\"el-select\");\n  const _component_el_form_item = _resolveComponent(\"el-form-item\");\n  const _component_el_form = _resolveComponent(\"el-form\");\n  return _openBlock(), _createElementBlock(_Fragment, null, [_cache[1] || (_cache[1] = _createElementVNode(\"h2\", null, \"年销售统计\", -1 /* HOISTED */)), _createVNode(_component_el_form, {\n    model: _ctx.yearForm,\n    \"label-width\": \"100px\"\n  }, {\n    default: _withCtx(() => [_createVNode(_component_el_form_item, {\n      label: \"年份\"\n    }, {\n      default: _withCtx(() => [_createVNode(_component_el_select, {\n        modelValue: _ctx.yearForm.year,\n        \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => _ctx.yearForm.year = $event),\n        placeholder: \"请选择年份\",\n        onChange: _ctx.handleYearMonthSell,\n        clearable: \"\"\n      }, {\n        default: _withCtx(() => [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(_ctx.yearList, item => {\n          return _openBlock(), _createBlock(_component_el_option, {\n            key: item.year,\n            label: item.label,\n            value: item.year\n          }, null, 8 /* PROPS */, [\"label\", \"value\"]);\n        }), 128 /* KEYED_FRAGMENT */))]),\n        _: 1 /* STABLE */\n      }, 8 /* PROPS */, [\"modelValue\", \"onChange\"])]),\n      _: 1 /* STABLE */\n    })]),\n    _: 1 /* STABLE */\n  }, 8 /* PROPS */, [\"model\"]), _cache[2] || (_cache[2] = _createElementVNode(\"div\", {\n    id: \"sellCharts\",\n    style: {\n      \"width\": \"100%\",\n      \"height\": \"400px\"\n    }\n  }, null, -1 /* HOISTED */))], 64 /* STABLE_FRAGMENT */);\n}","map":{"version":3,"names":["_createElementBlock","_Fragment","_createElementVNode","_createVNode","_component_el_form","model","_ctx","yearForm","default","_withCtx","_component_el_form_item","label","_component_el_select","modelValue","year","_cache","$event","placeholder","onChange","handleYearMonthSell","clearable","_renderList","yearList","item","_createBlock","_component_el_option","key","value","_","id","style"],"sources":["D:\\Program\\Java QP\\Erp\\erpfront\\src\\views\\YearMonthCount.vue"],"sourcesContent":["<template>\r\n  <h2>年销售统计</h2>\r\n  <el-form :model=\"yearForm\" label-width=\"100px\" >\r\n        <el-form-item label=\"年份\" >\r\n          <el-select v-model=\"yearForm.year\" placeholder=\"请选择年份\" @change=\"handleYearMonthSell\" clearable>\r\n            <el-option\r\n            v-for=\"item in yearList\"\r\n            :key=\"item.year\"\r\n            :label=\"item.label\"\r\n            :value=\"item.year\"\r\n            />\r\n          </el-select>\r\n        </el-form-item>\r\n  </el-form>\r\n  <div id=\"sellCharts\" style=\"width: 100%;height: 400px;\"></div>\r\n</template>\r\n\r\n<script setup>\r\n<<<<<<< HEAD\r\n// import axios from 'axios'\r\nimport { getCurrentInstance } from \"vue\";\r\nconst axios=getCurrentInstance().proxy.axios\r\n=======\r\nimport axios from 'axios'\r\n>>>>>>> 9b36866f743edc05e0f02f00103b929e0d29fc81\r\nimport { onMounted, reactive, ref } from 'vue'\r\nimport * as echarts from 'echarts';\r\n\r\n\r\nconst yearForm=reactive({\r\n    year:''\r\n})\r\nconst yearList=ref([])\r\n\r\nfunction loadYear(){\r\n    axios.get(\"http://localhost:8081/queryYear\")\r\n    .then((response)=>{\r\n        yearList.value=response.data\r\n    })\r\n    .catch((error)=>{\r\n        console.log(error)\r\n    })\r\n}\r\n\r\nonMounted(function(){\r\n    loadYear()\r\n})\r\n\r\nfunction handleYearMonthSell(year){\r\n    console.log(year)\r\n    axios.get(\"http://localhost:8081/countSell?year=\"+year)\r\n    .then((response)=>{\r\n        var sellDom = document.getElementById('sellCharts');\r\n        var sellChart = echarts.init(sellDom);\r\n        var option= {\r\n            xAxis: {\r\n                type: 'category',\r\n                data: response.data.xdata\r\n            },\r\n            yAxis: {\r\n                type: 'value'\r\n            },\r\n            series: [\r\n                {\r\n                    data: response.data.ydata,\r\n                    type: 'bar',\r\n                    showBackground: true,\r\n                    backgroundStyle: {\r\n                        color: 'rgba(180, 180, 180, 0.2)'\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    option && sellChart.setOption(option);\r\n    })\r\n    .catch((error)=>{\r\n        console.log(error)\r\n    })\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":";;;;;;uBAAAA,mBAAA,CAAAC,SAAA,S,0BACEC,mBAAA,CAAc,YAAV,OAAK,sBACTC,YAAA,CAWUC,kBAAA;IAXAC,KAAK,EAAEC,IAAA,CAAAC,QAAQ;IAAE,aAAW,EAAC;;IAFzCC,OAAA,EAAAC,QAAA,CAGQ,MASe,CATfN,YAAA,CASeO,uBAAA;MATDC,KAAK,EAAC;IAAI;MAHhCH,OAAA,EAAAC,QAAA,CAIU,MAOY,CAPZN,YAAA,CAOYS,oBAAA;QAXtBC,UAAA,EAI8BP,IAAA,CAAAC,QAAQ,CAACO,IAAI;QAJ3C,uBAAAC,MAAA,QAAAA,MAAA,MAAAC,MAAA,IAI8BV,IAAA,CAAAC,QAAQ,CAACO,IAAI,GAAAE,MAAA;QAAEC,WAAW,EAAC,OAAO;QAAEC,QAAM,EAAEZ,IAAA,CAAAa,mBAAmB;QAAEC,SAAS,EAAT;;QAJ/FZ,OAAA,EAAAC,QAAA,CAMY,MAAwB,E,kBADxBT,mBAAA,CAKEC,SAAA,QAVdoB,WAAA,CAM2Bf,IAAA,CAAAgB,QAAQ,EAAhBC,IAAI;+BADXC,YAAA,CAKEC,oBAAA;YAHDC,GAAG,EAAEH,IAAI,CAACT,IAAI;YACdH,KAAK,EAAEY,IAAI,CAACZ,KAAK;YACjBgB,KAAK,EAAEJ,IAAI,CAACT;;;QATzBc,CAAA;;MAAAA,CAAA;;IAAAA,CAAA;0DAcE1B,mBAAA,CAA8D;IAAzD2B,EAAE,EAAC,YAAY;IAACC,KAAkC,EAAlC;MAAA;MAAA;IAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}